<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta content="IE=edge,chrome=1" http-equiv=X-UA-Compatible><meta content="width=device-width,minimum-scale=1" name=viewport><title>Sergio Carracedo | Even more features. Lessons I Learned Creating a Table Component (4/4)</title>
<meta content="yes" name=mobile-web-app-capable><meta content="black-translucent" name=apple-mobile-web-app-status-bar-style><meta content="Sergio Carracedo's personal page and blog" name=description><meta content="Sergio Carracedo" name=author><link href=https://sergiocarracedo.es//index.xml rel=alternate title="Sergio Carracedo" type=application/rss+xml><link href=/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/site.webmanifest rel=manifest><link color=#5bbad5 href=/safari-pinned-tab.svg rel=mask-icon><meta content="#da532c" name=msapplication-TileColor><meta content="#ffffff" name=theme-color><link crossorigin href="https://fonts.googleapis.com/css2?family=Rozha+One:wght@400;500;600;700&display=swap" rel=preconnect><link crossorigin href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;500;600;700&display=swap" rel=preconnect><link crossorigin href="https://fonts.googleapis.com/css2?family=Allura:wght@400;500;600;700&display=swap" rel=preconnect><meta property="og:title" content="Even more features. Lessons I Learned Creating a Table Component (4/4)"><meta property="og:description" content="
This post is part of a post series: First part, Second part, Third part) and an extra related post: Writing a query builder to filter data

As I mentioned in the previous chapters of this series, I prefer to provide the maximum number of features in the table. There are several reasons behind this decision, those are the more relevant ones:

Homogeneity: Same solution to the same problem in different places. If you don&rsquo;t provide a solution for the common or repeated needs, you are taking the risk of having different solutions for the same problem. That is very common in large applications where the teams work on different parts of the application, and they can provide different solutions and different user experiences for similar use cases, this causes duplication of work and a bad user experience.
Maintainability: In general it&rsquo;s easy to maintain the code, if you solve a bug it will be solved in all the places the table&rsquo;s feature is used, or if a feature changes it will change in all the places, this is very related to the previous point. For example if we decide to use a recycle view to render the table rows for a better performance, we only need to do it once, and all the implementation will benefit from that.
Implementation simplicity: Using a table with a lot of use cases and features (mostly based on configurations or props) makes it very simple to implement the table even for any developer, even if is a new-joiner or junior.

The trade-offs of this are:"><meta property="og:type" content="article"><meta property="og:url" content="https://sergiocarracedo.es/creating-a-table-component-iv/"><meta property="og:image" content="https://sergiocarracedo.es/creating-a-table-component-iv/cover_hu15565587778797749402.jpg"><meta name=twitter:image content="https://sergiocarracedo.es/creating-a-table-component-iv/cover_hu15565587778797749402.jpg"></meta><meta property="article:section" content="blog">
<meta property="article:published_time" content="2024-11-27T00:00:00+00:00"><meta property="article:modified_time" content="2024-11-27T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"></meta>
<link href=https://sergiocarracedo.es/creating-a-table-component-iv/ rel=canonical><link href=https://sergiocarracedo.es/scss/main.min.c6aeadd0f64f9e58a5f36b759b3c5f69f04adcbaf95c581a64fdd28dfd1410e8.css integrity="sha256-xq6t0PZPnlil82t1mzxfafBK3Lr5XFgaZP3Sjf0UEOg=" rel="stylesheet preconnect"><link as=style href=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css rel="stylesheet preload" type=text/css></head><body><header class="web-header background-paper-secondary"><h2><a class=back-to-home href=/ title="Back to home"><i class="fas fa-home"></i><div class=back-to-home__content><span class=back-to-home__action>Back to home</span><div class=back-to-home__title><img alt="Sergio Carracedo" class=avatar src=/i/sergiocarracedo_hu15161314200389136556.jpg><h4>Sergio Carracedo</h4></div></div></a></h2><div class=web-header__page-title><span>Even more features. Lessons I Learned Creating a Table Component (4/4)</span></div><div class=theme-switch><i class="theme-switch__theme fas fa-sun" id=theme-switch-light title="Switch to light theme"></i>
<i class="theme-switch__theme fas fa-moon" id=theme-switch-dark title="Switch to dark theme"></i></div></header><div class=main-content><article class="post post--single"><div class="post__main wrapper-1200"><aside class=post__metadata><time class=post__date datetime=2024-11-27><i class="far fa-calendar-alt"></i> Nov 27, 2024
</time><a href=https://sergiocarracedo.es/tags/table class=post__tag><span>table</span>
</a><a href=https://sergiocarracedo.es/tags/ui class=post__tag><span>ui</span>
</a><span class=post__reading-time><i class="far fa-clock"></i> 9 minutes read</span></aside><header class=post__header><h1 class=post__title>Even more features. Lessons I Learned Creating a Table Component (4/4)</h1></header><figure class=post__cover><img alt="Even more features. Lessons I Learned Creating a Table Component (4/4)" height=400 src=/creating-a-table-component-iv/cover_hu18190116825008704287.jpg width=1200></figure><div class=post__content><blockquote><p>This post is part of a post series: <a href=https://sergiocarracedo.es/creating-a-table-component-i/>First part</a>, <a href=https://sergiocarracedo.es/creating-a-table-component-ii/>Second part</a>, <a href=https://sergiocarracedo.es/creating-a-table-component-iii/>Third part</a>) and an extra related post: <a href=https://sergiocarracedo.es/query-builder-filter-data/>Writing a query builder to filter data</a></p></blockquote><p>As I mentioned in the previous chapters of this series, I prefer to provide the maximum number of features in the table. There are several reasons behind this decision, those are the more relevant ones:</p><ul><li><strong>Homogeneity</strong>: Same solution to the same problem in different places. If you don&rsquo;t provide a solution for the common or repeated needs, you are taking the risk of having different solutions for the same problem. That is very common in large applications where the teams work on different parts of the application, and they can provide different solutions and different user experiences for similar use cases, this causes duplication of work and a bad user experience.</li><li><strong>Maintainability</strong>: In general it&rsquo;s easy to maintain the code, if you solve a bug it will be solved in all the places the table&rsquo;s feature is used, or if a feature changes it will change in all the places, this is very related to the previous point. For example if we decide to use a recycle view to render the table rows for a better performance, we only need to do it once, and all the implementation will benefit from that.</li><li><strong>Implementation simplicity</strong>: Using a table with a lot of use cases and features (mostly based on configurations or props) makes it very simple to implement the table even for any developer, even if is a new-joiner or junior.</li></ul><p>The trade-offs of this are:</p><ul><li><strong>Covering all use cases is not easy</strong>: Finding a common solution to similar problems requires effort and time, and it can be hard in some cases.</li><li><strong>Find a balance</strong>: It&rsquo;s not always easy to decide which features should be in the table or not</li><li><strong>Big component</strong>: Including too many features can make the bundle size for the component big.</li></ul><h2 id=other-features-i-implemented>Other features I implemented</h2><h3 id=table-settings-persistence>Table settings persistence</h3><p>As I mentioned in the chapter we allow users to select order of the columns, that is a nice feature, but is not very useful if it needs to set the order every time it loads a page. To solve that we implemented a system to persist and restore the table settings. In our use case, table settings include: column order, column visibility, items per page, and other settings the table implementation can define for the specific use case.</p><p>I think the table component shouldn&rsquo;t know anything about how to persist the data, because in that case, we are coupling the table component with the backend, and that limits the reusability of the table. This is an example of the balance I mentioned before.</p><p>To solve that and avoid coupling the component to the infra (backend) we use providers, the table component defines an interface for the persistence (read and write), and the page which implements the table can inject that provider via prop to implement the persistence logic. To make the code reusable the provider is a common utility that only needs an ID to identify the table. This provider can store the table settings in the local storage, a backend, etc.</p><p>The table should contain the logic to handle the inconsistencies between the settings and the table definition, for example, if a column changes and now is fixed, it should ignore the order in settings for that column, or if we remove or add a new column, the table component contains the logic to set the new column in a default order with the others.</p><h3 id=nested-rows>Nested rows</h3><p>Another useful feature in our use case was the nested rows. For example, we have a list of &ldquo;Friends&rdquo; series episodes, and we want to show them grouped by season and even display some aggregated information like count, total views, etc.</p><p><figure class=image-caption><img src=/creating-a-table-component-iv/nested_hu4837561706220812896.jpg alt=nested.png title width=1522 height=284 srcset="/creating-a-table-component-iv/nested_hu6517357042289259925.webp 458w, /creating-a-table-component-iv/nested_hu12434063549453959575.webp 768w, /creating-a-table-component-iv/nested_hu8608797118607032802.webp 1200w" sizes="(max-width: 458px) 100vw, (max-width: 768px) 100vw, (max-width: 1200px) 100vw"><figcaption></figcaption></figure></p><p>There are other sub-features you can include: The groups, each row with children, can be collapsible or not, the header can be a sticky element (is always on top when the children are visible), etc.</p><p>The very beginning though is that this is a simple feature, but there are a lot of tricky parts and nontrivial decisions to be made:</p><ul><li><strong>How to group the rows when the order changes?</strong>. There are multiple ways to do it, and no correct answer, just what makes sense for your use case.<ul><li>You can sort first the parent rows and then sort children inside each row. This will keep the groups</li><li>You can sort all children together, and then regroup them. This will create repeats in the parent rows as now the children are mixed. Ex: A contains: 3,4,7 and B contains 1,2,5, The ordered rows with the children to display are: B (1,2), A (3,4), B(5), A(7)</li></ul></li><li><strong>How to split pages</strong>: Should parent row count for pagination or only children or both? How to split pages when the parent rows are collapsible? You can recalculate the pagination when a group of children are expanded or not, or just count items even if they are not expanded.</li></ul><p>In our use case, we select one of the solutions in each topic, but will not share it with you ;). There are no absolute correct answers here, it depends on what you need.</p><h4 id=async-loading-of-nested-rows>Async loading of nested rows</h4><p>Another feature related to the nested rows is the async loading. This feature only makes sense when the user can collapse the parent rows (and they are collapsed by default), in this case, the children only are loaded when the user expands a row. This is useful to make the time to show the initial data in the table short and reduces requests to the backend.</p><p>This feature requires solving how to load the data, as I mentioned before I think requests should not be part of the table component, so like in the case of the settings persistence, we define a provider interface that will load the data and return it to the table. The table will invoke the provider when the user wants to expand a row and receives the parent row, your implementation will manage that to request the children rows and return it to the table. The table must handle the loading state and, in our case show skeletons for the children rows meanwhile the data is loading.</p><h3 id=expandable-rows>Expandable rows</h3><p>This feature allows expanding a row letting the implementation define the content to display in the expanded space. This feature can seem similar to nested rows but is not (and is not incompatible). In this case, the content is not part of the table, in the case of nested rows, the children must have the same columns as the parent (as the table), in the expended row, we can to another table (with different columns) or any other content, like a form, a chart, etc, anything.</p><p>In our case, as the table component was implemented in Vue, we use a feature I love about this framework, the <a href=https://vuejs.org/guide/components/slots#scoped-slots>scoped slots</a> to allow us to define that content, it can be the same for all the expanded rows or by row</p><h3 id=row-actions>Row actions</h3><p>A very common use case (at least for us) is to have actions over the rows, for example, delete the entity the row represents, edit it, execute an action over it, etc. For that, we allow to pass to the table component an action provider that defines the actions for each row (as it is a function the actions can be different or be disabled or not for each row). Those actions are displayed in the table in an <a href=https://sergiocarracedo.es/creating-a-table-component-iii/#user-defined-cols-vs-internal-cols>internal column</a>) using a dropdown menu component (this is a component is part of our UI component library)</p><h3 id=toolbar>Toolbar</h3><p>The toolbar is a set of icons, visually over the table header, that represent actions for the table.</p><p><figure class=image-caption><img src=/creating-a-table-component-iv/toolbar_hu17070638457964386386.jpg alt=Toolbar title width=555 height=98 srcset="/creating-a-table-component-iv/toolbar_hu14012670937044396698.webp 458w, /creating-a-table-component-iv/toolbar_hu1794094329361763994.webp 555w" sizes="(max-width: 458px) 100vw, 555px"><figcaption></figcaption></figure></p><p>I implemented build-in actions like:</p><ul><li><strong>Settings</strong>: To open the table settings panel or modal</li><li><strong>Fullscreen</strong>: To display the table in fullscreen mode</li><li><strong>Reload</strong>: Dispatch an event to let the implementation the user wants to refresh the data</li><li><strong>Edit</strong>: To enter in edit mode, this converts the content of the rows in input fields to change the values directly from the table</li><li><strong>Print</strong>: Prints the table content</li><li><strong>Download</strong>: Exports the table contents to CSV or XLS implementing all the logic on the frontend side. This is an interesting feature. The build-in feature, only exports the data the table contains, if it is in external mode it only can export the current page content, but we can provide a way to overwrite the button behavior and delegate that in an external implementation can get all the data and download it. In any case, this scenario is a good example of how useful are the formatters, as again, we can render the export data in the correct format.</li><li><strong>Search box</strong>: Where is where the user can enter the search text I explained in the first chapter</li></ul><p>I allow developers to define which build actions want to use, but also allow them to implement their custom actions for a specific use case passing the buttons to render as props and getting an event or callback when the user clicks on that.</p><h3 id=action-bar>Action bar</h3><p>This bar only appears when the user selects more than one row and allows it to execute actions over the selected rows, those actions are defined by the user, for example, delete or edit, or any other action.</p><p><figure class=image-caption><img src=/creating-a-table-component-iv/actionbar_hu10240348586814393920.jpg alt="Action bar" title width=743 height=100 srcset="/creating-a-table-component-iv/actionbar_hu9918718503393477445.webp 458w, /creating-a-table-component-iv/actionbar_hu1505654688695960382.webp 743w" sizes="(max-width: 458px) 100vw, 743px"><figcaption></figcaption></figure></p><h2 id=summary>Summary</h2><p>Creating a table component is a challenging and interesting experience, that requires (as any other component) paying attention to the details, understanding, identifying, and defining the concepts involved in the process.</p><p>My goal with this post series was to give you tips and share the solutions and decisions I made (and why I made them).</p><p>My solutions don&rsquo;t are necessarily the correct ones for you, they were the ones that cover my needs, but I expect you to find these posts useful to understand better the different options.</p><p>Still have a lot of small things to bear in mind (empty state, items per page selector, no results found state,&mldr;.) when you implement a table component, but I feel you can handle them.</p><p>Please let me know if you liked this post, if you miss something, etc. Thanks for reading</p></div></div><aside class=post__nav-wrapper><div class=wrapper-1200><div class="post-nav post-nav--prev"></div><div class=blog-link><a class="btn btn--outlined" href=https://sergiocarracedo.es/blog>All Blog posts</a></div><div class="post-nav post-nav--next"><a class=post-nav__link href="https://sergiocarracedo.es/creating-a-table-component-iii/?ref=footer"><div class="post-nav__cover btn btn--img btn--hover-parent"><img alt=.Prev.Title class=post-nav__cover src=/creating-a-table-component-iii/pexels-pixabay-221392_hu11918169185099477421.jpg></div><div class=post-nav__title>Column related features: Lessons I Learned...</div></a></div></div><div class="wrapper-1200 post__nav-years"><ul class=years><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2024>2024</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2023>2023</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2022>2022</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2021>2021</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2020>2020</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2019>2019</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2018>2018</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2017>2017</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2016>2016</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2015>2015</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2013>2013</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2012>2012</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2011>2011</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2010>2010</a></li></ul></div></aside><aside class=post__search-wrapper><div class=wrapper-1200>Search in <strong>145</strong> blog posts:<form action=https://sergiocarracedo.es/search class="search-form search-form--dark search-form--l" method=get><label for=search-input hidden>Search</label>
<input class=search-form__input id=search-input name=query placeholder=Search type=text>
<button aria-label="Search in the blog" class=search-form__button>
<i class="fas fa-search"></i></button></form></div></aside><aside class=post__comments><div class=wrapper-1200><div id=disqus_thread>To show comments is mandatory to accept cookie policy.</div></div></aside></article></div><footer class="web-footer background-paper-secondary"><div class=wrapper-1200><div class=web-footer__left><div class=me><div class=me__avatar><img alt="Sergio Carracedo" height=180 src=/i/sergiocarracedo_hu3613990337080381956.jpg width=180></div><div class=me__titles><h1>Sergio Carracedo</h1><h2>Senior Fullstack developer.</h2><h3>Always learning, cats, good conversations and small details lover.</h3></div></div></div><div class=web-footer__right><nav class=menu><ul role=menu><li class=menu__item role=presentation><a role=menuitem href=https://sergiocarracedo.es/>Home</a></li><li class=menu__item role=presentation><a role=menuitem href=https://sergiocarracedo.es/blog>Blog</a></li><li class=menu__item role=presentation><a role=menuitem href=https://sergiocarracedo.es/index.xml>RSS Feed</a></li></ul></nav><div class=social><a class=social__link href=http://www.linkedin.com/in/sergiocarracedo target=_blank title=LinkedIn style=animation-delay:2s><i class="fab fa-linkedin"></i>
</a><a class=social__link href=mailto:hi+blog@sergiocarracedo.es target=_blank title=Email style=animation-delay:1.9333333333333333s><i class="fas fa-envelope"></i>
</a><a class=social__link href=https://github.com/sergiocarracedo target=_blank title=GitHub style=animation-delay:1.8666666666666667s><i class="fab fa-github"></i>
</a><a class=social__link href=https://bsky.app/profile/sergiocarracedo.es target=_blank title=Bluesky style=animation-delay:1.8s><svg fill="none" viewBox="0 0 64 57"><path fill="currentcolor" d="M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022.0 8.51.0 6.55.0-3.268 8.579-.182 13.873 3.805zm36.254.0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"/></svg>
</a><a class=social__link href=https://www.drupal.org/u/sergiocarracedo target=_blank title=Drupal style=animation-delay:1.7333333333333334s><i class="fab fa-drupal"></i>
</a><a class=social__link href=https://www.npmjs.com/~sergiocarracedo target=_blank title=Npm style=animation-delay:1.6666666666666667s><svg viewBox="0 0 780 250" aria-hidden="true"><path fill="currentcolor" d="M240 250h1e2v-50h1e2V0H240V250zM340 50h50v1e2h-50V50zM480 0v2e2h1e2V50h50v150h50V50h50v150h50V0H480zM0 2e2h1e2V50h50v150h50V0H0V2e2z" stroke-width="5" stroke="currentcolor"/></svg>
</a><a class=social__link href=https://www.twitter.com/sergiocarracedo target=_blank title=Twitter style=animation-delay:1.6s><i class="fab fa-twitter"></i>
</a><a class=social__link href=http://www.last.fm/user/gasman40 target=_blank title=Last.fm style=animation-delay:1.5333333333333332s><i class="fab fa-lastfm"></i>
</a><a class=social__link href=http://sergiocarracedo.tumblr.com/ target=_blank title=Tumblr style=animation-delay:1.4666666666666668s><i class="fab fa-tumblr"></i></a></div></div></div></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-87X78TXEGE"></script><script>function runGA(){window.dataLayer=window.dataLayer||[];function e(){dataLayer.push(arguments)}e("js",new Date),e("config","G-87X78TXEGE")}</script><script>function runDisqus(){(function(){var e=document,t=e.createElement("script");t.src="https://sergiocarracedo.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()}</script><script src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js></script><script>window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#004262",text:"#fff"},button:{background:"#8ec760",text:"#ffffff"}},type:"opt-out",content:{message:"Este sitio usa cookies propias y de terceros para mejorar la experiencia de usuario y esas cosas.",allow:"Ok, continua",deny:"Nada de cookies",link:"Saber más",href:"https://sergiocarracedo.es/cookies"},onStatusChange:function(e){e=="allow"&&runCookiesAllowed()},onInitialise:function(e){e=="allow"&&runCookiesAllowed()}})})</script><script>addEventListener("scroll",e=>{let t=document.getElementsByTagName("body")[0];t&&window.scrollY>10?t.classList.add("not-in-top"):t.classList.remove("not-in-top")});function runCookiesAllowed(){runGA(),runDisqus()}</script><script integrity="sha256-hyPros3hoBf0jJM1+zayQLFFkchXwy4d/k2QMvk0sHs=" src=https://sergiocarracedo.es/js/theme.min.8723eba2cde1a017f48c9335fb36b240b14591c857c32e1dfe4d9032f934b07b.js></script><script src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js type=text/javascript></script><script integrity="sha256-9aiKKMxF0IhB2gmJbfgVOjk8GCtKW7zP2MwD74dPfDo=" src=https://sergiocarracedo.es/js/search.min.f5a88a28cc45d08841da09896df8153a393c182b4a5bbccfd8cc03ef874f7c3a.js></script></body></html>