<!doctype html><html><head><meta charset=utf-8><meta content="IE=edge,chrome=1" http-equiv=x-ua-compatible><meta content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no" name=viewport><title>Sergio Carracedo | Improving your Vue (and JS) coding quality and workflow</title><meta content="yes" name=apple-mobile-web-app-capable><meta content="black-translucent" name=apple-mobile-web-app-status-bar-style><meta content="Sergio Carracedo's personal page and blog" name=description><meta content="Sergio Carracedo" name=author><link href=favicon.png rel=icon><meta property="og:title" content="Improving your Vue (and JS) coding quality and workflow"><meta property="og:description" content="To start coding Javascript (and other languages), you almost need nothing, just a simple, text editor. That is good to start coding when you are learning the language, just code without distractions.
But when you develop bigger projects or/and with others, some problems appears: code organization, coding style, and other. That is because all languages have at a least clean code style guide.
Things like use semi-colon or not at the end of the line, the number of spaces indenting code, etc."><meta property="og:type" content="article"><meta property="og:url" content="/2020/06/21/Improving-your-JS-workflow/"><meta property="og:image" content="/2020/06/21/Improving-your-JS-workflow/js-workflow-38537_hue3e183c5fa902cd4ae789f3e908b1fee_205673_1920x1080_fill_q75_box_center.jpeg"><meta property="article:section" content="blog"><meta property="article:published_time" content="2020-06-21T12:47:40+00:00"><meta property="article:modified_time" content="2020-06-21T12:47:40+00:00"><link href=/scss/main.1fb71fa7ebb2d9065c28cbf3dd7ed45114596cf9b9be107e9d0ded933e45f4e1.css integrity="sha256-H7cfp+uy2QZcKMvz3X7UURRZbPm5vhB+nQ3tkz5F9OE=" rel=stylesheet><link href=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css rel=stylesheet type=text/css></head><body><header class=web-header><h2><a class=back-to-home href=/ title="Back to home"><i class="fas fa-home"></i><div class=back-to-home__content><span class=back-to-home__action>Back to home</span><div class=back-to-home__title><img alt="Sergio Carracedo" class=avatar src=/i/sergiocarracedo_hu73b47473f776de3df6b6aad72862b165_186188_100x100_fit_q75_box.jpg><h4>Sergio Carracedo</h4></div></div></a></h2><div class=web-header__page-title>Improving your Vue (and JS) coding quality and workflow</div></header><div class=main-content><article class="post post--single"><div class="post__main wrapper-1200"><aside class=post__metadata><time class=post__date datetime=2020-06-21><i class="far fa-calendar-alt"></i> Jun 21, 2020</time><div class=post__tags></div><span class=post__reading-time><i class="far fa-clock"></i> 3 minutes read</span></aside><header class=post__header><h1 class=post__title>Improving your Vue (and JS) coding quality and workflow</h1></header><figure class=post__cover><img src=/2020/06/21/Improving-your-JS-workflow/js-workflow-38537_hue3e183c5fa902cd4ae789f3e908b1fee_205673_1200x400_fill_q75_box_center.jpeg alt="Improving your Vue (and JS) coding quality and workflow" width=1200 height=400></figure><div class=post__content><p>To start coding Javascript (and other languages), you almost need nothing, just a simple, text editor. That is good to start coding when you are learning the language, just code without distractions.</p><p>But when you develop bigger projects or/and with others, some problems appears: code organization, coding style, and other. That is because all languages have at a least clean code style guide.</p><p>Things like use semi-colon or not at the end of the line, the number of spaces indenting code, etc.</p><p>In Javascript, we have several code styles</p><ul><li><a href=https://google.github.io/styleguide/jsguide.html>Google Javascript Style Guide</a></li><li><a href=https://github.com/airbnb/javascript>AirBnb Javascript Style Guide</a></li><li><a href=https://standardjs.com/>Javascript Standard Style</a></li><li>&mldr;</li></ul><p>Personally I prefer StandardJS (Javascript Standard Style), despite this style bans semicolons, and I come from PHP where semicolons are mandatory.</p><p>And to complicate it a little more if you use a JS framework like Vue, Angular, or React have their coding styles.</p><p>And also if your project uses Typescript, it has is own <a href=https://github.com/Microsoft/TypeScript/wiki/Coding-guidelines>coding style guide</a></p><p>Then, how could we ensure all our code complains chosen style guides?</p><h2 id=lint>Lint</h2><p>A <a href=https://en.wikipedia.org/wiki/Lint_(software)>linter</a> is a tool that analyzes statically our code to ensure that complaints the rules of our coding style(s).</p><p>One of the most used tools in the Javascript world is <a href=https://eslint.org/>ESLint</a>. This tool allows you to find coding style errors, and fix them automatically if is possible.</p><p>For example when you create a Vue project using <code>vue-cli</code> the setup wizard ask you if you want to use a Linter / Formatter (you should) and allows you to choose the coding style, and when you want the linter runs: on file save and/or when you commit your files.</p><p>{% asciinema 34AKksPvMuJ7qpUk6K5gBruyS %}</p><p>Please notice I choose lint on commit. When your project is small, there is no problem in use &ldquo;lint on save&rdquo;, but when the project makes bigger check the files on save would be very slow and unproductive. Even with lint on saving, when you are testing things in your code and for example, you comment lines and have an unused import, or remove last value of a list keeping the trailing comma, lint returns an error when you save, and make the tests slower. When you are experimenting you should be concentrated on the experiment, not in the code, when all works ok, then is time to refactor and take care of the coding style.</p><p>Let&rsquo;s make an example adding some end line semicolons <code>;</code>, spaces between lines, etc</p><p>{% asciinema ghtOPskHMcmtMmj8q7RUQZb47 %}</p><p>As you can see, before commiting the code, a git hook runs the linter and fix the code (not always is able to fix the code)</p><p>This is the <code>package.json</code> section related to githooks and linter</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;gitHooks&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;pre-commit&#34;</span>: <span style=color:#e6db74>&#34;lint-staged&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;lint-staged&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;*.{js,jsx,vue}&#34;</span>: [
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;vue-cli-service lint&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;git add&#34;</span>
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Vue uses a tool called <a href=https://github.com/okonet/lint-staged>Lint-staged</a> that allows the linter to only check staged files. I can assume all files in the repo (not modified) are ok because they were linted before commiting to the repo.</p><p>If you want, you could manage git hooks using <a href=https://github.com/typicode/husky>Husky</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;husky&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;hooks&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;pre-commit&#34;</span>: <span style=color:#e6db74>&#34;lint-staged&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;pre-push&#34;</span>: <span style=color:#e6db74>&#34;vue-cli-service test:unit&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;...&#34;</span>: <span style=color:#e6db74>&#34;...&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>For example, you can force run tests before push.</p><h1 id=optimizing>Optimizing</h1><p>If you are using Webpack, another interesting tool to know the optimization of your project is <a href=https://github.com/stephencookdev/speed-measure-webpack-plugin>Speed Measure Pluing</a></p><p>This tool shows the time elapsed by each webpack plugin when you build (even using HRM) your project using webpack. It&rsquo;s very useful to detect if some loader is taking too much time to run.</p><p>If you use <code>vue-cli</code> in your project, you can take advantage of using the integrated analyzer. That allows you to see every imported package, css, or library and check the sizes, and put the focus on heavier ones and try to optimize imports (not importing whole package, just the necessary libraries)</p><p><img src=vue-cli.jpg alt></p></div></div><aside class=post__nav-wrapper><div class=wrapper-1200><div class="post-nav post-nav--prev"><a class=post-nav__link href="/2020/07/15/why-i-write-a-blog/?ref=footer"><div class=post-nav__cover><img alt=.NextPage.Title src=/2020/07/15/why-i-write-a-blog/why-i-write-a-blog-977931_hue459a279af89433c6bdba93315e8938c_354312_200x120_fill_q75_box_center.jpg></div><div class=post-nav__title>Why I write a blog</div></a></div><div class=blog-link><a class=btn href=blog>All Blog posts</a></div><div class="post-nav post-nav--next"><a class=post-nav__link href="/2020/06/02/my-favourite-youtube-channels-2020/?ref=footer"><div class=post-nav__cover><img alt=.PrevPage.Title class=post-nav__cover src=/2020/06/02/my-favourite-youtube-channels-2020/youtube2020_hu30e568ea1ef6c5f516d1237dfd67dc0b_192900_200x120_fill_q75_box_center.jpg></div><div class=post-nav__title>My favorite YouTube Channels 2020</div></a></div></div></aside><aside class=post__comments><div class=wrapper-1200><div id=disqus_thread>To show the comments is mandatory accept cookie policy.</div></div></aside></article></div><footer class=web-footer><div class=wrapper-1200><div class=web-footer__left><div class=me><div class=me__avatar><img alt="Sergio Carracedo" src=/i/sergiocarracedo_hu73b47473f776de3df6b6aad72862b165_186188_170x170_fit_q75_box.jpg></div><div class=me__titles><h1>Sergio Carracedo</h1><h2>Senior Fullstack developer.</h2><h3>Formula 1, cats, good conversations and small details lover.</h3></div></div></div><div class=web-footer__right><nav role=main class=menu><ul><li class=menu__item><a href>Home</a></li><li class=menu__item><a href=blog>Blog</a></li></ul></nav><div class=social><a class=social__link href=http://www.linkedin.com/in/sergiocarracedo target=_blank title=LinkedIn style=animation-delay:2s><i class="fab fa-linkedin"></i></a>
<a class=social__link href=mailto:hi+blog@sergiocarracedo.es target=_blank title=Email style=animation-delay:1.9333333333333333s><i class="fas fa-envelope"></i></a>
<a class=social__link href=https://github.com/sergiocarracedo target=_blank title=GitHub style=animation-delay:1.8666666666666667s><i class="fab fa-github"></i></a>
<a class=social__link href=https://www.drupal.org/u/sergiocarracedo target=_blank title=Drupal style=animation-delay:1.8s><i class="fab fa-drupal"></i></a>
<a class=social__link href=https://www.twitter.com/sergiocarracedo target=_blank title=Twitter style=animation-delay:1.7333333333333334s><i class="fab fa-twitter"></i></a>
<a class=social__link href=http://www.last.fm/user/gasman40 target=_blank title=Last.fm style=animation-delay:1.6666666666666667s><i class="fab fa-lastfm"></i></a>
<a class=social__link href=http://sergiocarracedo.tumblr.com/ target=_blank title=Tumblr style=animation-delay:1.6s><i class="fab fa-tumblr"></i></a></div></div></div></footer><script async src="https://www.googletagmanager.com/gtag/js?id=UA-133459072-1"></script>
<script>function runGA(){function e(){dataLayer.push(arguments)}e("js",new Date),e("config","UA-133459072-1")}</script><script>function runDisqus(){(function(){var e=document,t=e.createElement("script");t.src="https://sergiocarracedo.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()}</script><script src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js></script>
<script>window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#004262",text:"#fff"},button:{background:"#8ec760",text:"#ffffff"}},type:"opt-out",content:{message:"Este sitio usa cookies propias y de terceros para mejorar la experiencia de usuario y esas cosas.",allow:"Ok, continua",deny:"Nada de cookies",link:"Saber más",href:"cookies"},onStatusChange:function(e){e=="allow"&&runCookiesAllowed()},onInitialise:function(e){e=="allow"&&runCookiesAllowed()}})})</script><script>addEventListener("scroll",e=>{let t=document.getElementsByTagName("body")[0];t&&window.scrollY>10?t.classList.add("not-in-top"):t.classList.remove("not-in-top")});function runCookiesAllowed(){runGA(),runDisqus()}</script></body></html>