
<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sergio Carracedo - Módulo Drupal 7: Cuenta atras lanzamiento website</title>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="keywords" content="Sergio Carracedo,"> 
    <meta name="description" content="Sergio Carracedo personal Blog,En más de una ocasión nos ha sucedido que una vez finalizado el trabajo en un sitio web, el cliente,"> 
    <meta name="author" content="Sergio Carracedo"> 
    <link rel="alternative" href="atom.xml" title="Sergio Carracedo" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
<link rel="stylesheet" href="/css/sergiocarracedo.css">

    <meta name="description" content="En más de una ocasión nos ha sucedido que una vez finalizado el trabajo en un sitio web, el cliente solicita que este no se publique de forma instantanea, si no que aparezca una página en la que se mu">
<meta property="og:type" content="article">
<meta property="og:title" content="Módulo Drupal 7: Cuenta atras lanzamiento website">
<meta property="og:url" content="https://sergiocarracedo.es/2016/09/12/modulo-drupal-7-cuenta-atras-lanzamiento-website/index.html">
<meta property="og:site_name" content="Sergio Carracedo">
<meta property="og:description" content="En más de una ocasión nos ha sucedido que una vez finalizado el trabajo en un sitio web, el cliente solicita que este no se publique de forma instantanea, si no que aparezca una página en la que se mu">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://sergiocarracedo.es/images/screenshot_from_2016-12-28_12-18-18.png">
<meta property="article:published_time" content="2016-09-12T00:00:00.000Z">
<meta property="article:modified_time" content="2021-06-14T11:08:59.500Z">
<meta property="article:author" content="Sergio Carracedo">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://sergiocarracedo.es/images/screenshot_from_2016-12-28_12-18-18.png">

    <script async src='https://www.google-analytics.com/analytics.js'></script>

    <script>
      function runGA() {
        window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
        ga('create', 'UA-133459072-1', 'auto');
        ga('send', 'pageview');
      }

      function runDisqus() {
        /*var disqus_config = function () {
          this.page.url = 'https://sergiocarracedo.es/';
          this.page.identifier = 'sergiocarracedo';
        }*/
        (function() { // DON'T EDIT BELOW THIS LINE
          var d = document, s = d.createElement('script');
          s.src = 'https://sergiocarracedo.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      }

      function runCookiesAllowed() {
        runGA();
        runDisqus();
      }
    </script>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
    <div id="single">
    <div id="top">
  <div class="bar" style="width: 0;"></div>
  <div class="container-fluid">
    <div class="grid-row">
      <div class="col-xs-12 col-sm-3">
        <a class="back-to-home" href="/">
          <img src="/img/sergiocarracedo.jpg" alt="Sergio Carracedo" class="image-logo"/>
          <h4>
            Sergio Carracedo
          </h4>
        </a>
      </div>
      <div class="hidden-xs col-sm-6">
        <h3 class="subtitle">Módulo Drupal 7: Cuenta atras lanzamiento website</h3>
      </div>
    </div>
  </div>
  <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article container-fluid-1200">
  <div class="grid-row">
    <div class="main col-xs-12">
      <h1 class="title">
        Módulo Drupal 7: Cuenta atras lanzamiento website
      </h1>
      <div class="stuff">
        <span>September 12, 2016</span>
      </div>

      
      <div class="article-image">
        <img src="/images/header_screenshot_from_2016-12-28_12-18-18.png" width="1200" height="400">
      </div>
      
      <div class="content markdown">
        <p>En más de una ocasión nos ha sucedido que una vez finalizado el trabajo en un sitio web, el cliente solicita que este no se publique de forma instantanea, si no que aparezca una página en la que se muestre una <strong>cuenta atrás</strong> y que una vez esta cuenta llege a 0 el site este online. </p>
<p>Tradicionalmente esto lo realizabamos de forma manual, pero tiene bastantes desventajas, como tener que estar pendiente de hacer la publicación del sitio. Por ello decidimos crear un <strong>módulo para Drupal 7</strong> que permitiese hacer esta tarea de forma <strong>automática</strong> y que además fuese facil de gestionar por el cliente llegado el caso de que necesitase ajustar la fecha límite de la cuenta atrás.</p>
<p>Llamamos a este módulo <strong>Site publish countdown</strong> y actualmente esta en el sandbox de módulos de Drupal <a target="_blank" rel="noopener" href="https://www.drupal.org/sandbox/sergiocarracedo/2718591">https://www.drupal.org/sandbox/sergiocarracedo/2718591</a></p>
<p>Este módulo, una vez instalado y activado, permite al administrador del sitio web establecer la fecha de lanzamiento antes de la cual, <strong>redirigirá todas las visitas anónimas</strong> (a cualquier url) a la página de cuentra atrás. </p>
<p>El adminsitrador o administadores el sito podrán loguearse de forma habitual, y estos podran ver el sitio web con normalidad para poder realizar tareas antes del lanzamiento de la web.</p>
<p>Una vez agotada la cuenta a atrás la propia página se recargará mostrando ya la versión <em>normal</em> del sitio.</p>
<p>Este módulo permite a los desarrolladores maquetar y personalizar la página de cuenta atrás, solo es necesario añadir el fichero <em>sitepublishcountdown.tpl.php</em> en la carpeta del tema usado por la web (y limpiar el <em>theme registy</em>). El único contenido obligatorio de este fichero es la siguente linea:</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;time datetime="&lt;?php print $datetime; ?&gt;"&gt;&lt;?php print $datetime; ?&gt;&lt;/time&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>que es la que se encarga de mostrar la cuenta atrás. El resto queda a libre disposición del maquetador del site para que pueda personalizarla.</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      </div>
    </div>
  </div>
</div>

<div class="post-nav">
  <div class="container-fluid-1200">
    <div class="grid-row">
      <div class="next col-xs-6">
        
          <div class="nav-previous">
            <a href="https://sergiocarracedo.es//2016/12/28/backup-de-archivos-que-no-estan-en-un-repo-git/" rel="prev" class="nav-cover">
              <img src="/images/teaser_pexels-photo-117729.jpeg">
            </a>

            <a href="https://sergiocarracedo.es//2016/12/28/backup-de-archivos-que-no-estan-en-un-repo-git/" rel="prev" class="nav-text">
              <i class="fa fa-arrow-left"></i> Backup de archivos que no estan en un repo GIT
            </a>
          </div>
        
      </div>
      <div class="prev col-xs-6">
        
          <div class="nav-next">
            <a href="https://sergiocarracedo.es//2016/03/01/circuitos-de-formula-1-2016-en-google-maps/" rel="next" class="nav-cover">
              <img src="/images/teaser_formula1.jpeg">
            </a>

            <a href="https://sergiocarracedo.es//2016/03/01/circuitos-de-formula-1-2016-en-google-maps/" rel="next" class="nav-text">
              Circuitos de Formula 1 (2016) en Google Maps <i class="fa fa-arrow-right"></i>
            </a>
          </div>
        
      </div>
    </div>
  </div>
</div>

<div class="post-comments container-fluid-1200">
    <div id="disqus_thread">To show the comments is mandatory accept cookie policy.</div>
</div>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<div id="post-aboutme">
  <div class="me container-fluid">
    <div class="grid-row">
      <div class="col-xs-12 mb-5">
        <div class="social">
  <a href="mailto:info@sergiocarracedo.es" class="social-link" title="info@sergiocarracedo.es">
    <i class="fas fa-envelope"></i>
  </a>
  <a href="https://github.com/sergiocarracedo" class="social-link" target="_blank">
    <i class="fab fa-github"></i>
  </a>
  <a href="https://www.drupal.org/u/sergiocarracedo" class="social-link" target="_blank">
    <i class="fab fa-drupal"></i>
  </a>

  <a href="http://www.linkedin.com/in/sergiocarracedo" class="social-link" target="_blank">
    <i class="fab fa-linkedin"></i>
  </a>
  <a href="https://www.twitter.com/sergiocarracedo" class="social-link" target="_blank">
    <i class="fab fa-twitter"></i>
  </a>
  <a href="http://www.last.fm/user/gasman40" class="social-link" target="_blank">
    <i class="fab fa-lastfm"></i>
  </a>
  <a href="http://sergiocarracedo.tumblr.com/" class="social-link" target="_blank">
    <i class="fab fa-tumblr"></i>
  </a>
</div>

      </div>
    </div>
  </div>

  <div class="claim container-fluid-1440">
    <div class="grid-row">
      <div class="col-xs-12">
        <h3>Front-end and back-end developer.<br />#formula1, good conversations and small details lover.</h3>
      </div>
    </div>
  </div>

  <div class="container-fluid-1440">
    <div class="grid-row">
      <div class="col-xs-12">
        <a href="/" class="back">
          Home
        </a>
      </div>
    </div>
  </div>

</div>


    </div>


</div>

</body>
<script src="https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>


<script src="/js/jquery.min.js"></script>
<script src="/js/sergiocarracedo.js"></script>


<link href="https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css" rel="stylesheet">
<link href="https://cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css" rel="stylesheet">

<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
    <script>
      window.addEventListener("load", function(){
        window.cookieconsent.initialise({
          "palette": {
            "popup": {
              "background": "#004262",
              "text": "#fff"
            },
            "button": {
              "background": "#8ec760",
              "text": "#ffffff"
            }
          },
          "type": "opt-out",
          "content": {
            "message": "Este sitio usa cookies propias y de terceros para mejorar la experiencia de usuario y esas cosas.",
            "allow": "Ok, continua",
            "deny": "Nada de cookies",
            "link": "Saber más",
            "href": "https://sergiocarracedo.es/cookies.html",
          },
          "onStatusChange": function(status, chosenBefore) {
            if (status == 'allow') {
               runCookiesAllowed()
            }
          },
          "onInitialise" : function(status) {
            if (status == 'allow') {
               runCookiesAllowed()
            }
          }
        })
      });
    </script>


</html>
