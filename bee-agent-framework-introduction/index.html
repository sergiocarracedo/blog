<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta content="IE=edge,chrome=1" http-equiv=X-UA-Compatible><meta content="width=device-width,minimum-scale=1" name=viewport><title>Sergio Carracedo | Introduction to an open-source framework to create AI multi-agent workflows: Bee Agent Framework</title>
<meta content="yes" name=mobile-web-app-capable><meta content="black-translucent" name=apple-mobile-web-app-status-bar-style><meta content="Sergio Carracedo's personal page and blog" name=description><meta content="Sergio Carracedo" name=author><link href=https://sergiocarracedo.es//index.xml rel=alternate title="Sergio Carracedo" type=application/rss+xml><link href=/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/site.webmanifest rel=manifest><link color=#5bbad5 href=/safari-pinned-tab.svg rel=mask-icon><meta content="#da532c" name=msapplication-TileColor><meta content="#ffffff" name=theme-color><link crossorigin href="https://fonts.googleapis.com/css2?family=Rozha+One:wght@400;500;600;700&display=swap" rel=preconnect><link crossorigin href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;500;600;700&display=swap" rel=preconnect><link crossorigin href="https://fonts.googleapis.com/css2?family=Allura:wght@400;500;600;700&display=swap" rel=preconnect><meta property="og:title" content="Introduction to an open-source framework to create AI multi-agent workflows: Bee Agent Framework"><meta property="og:description" content="
The goal of this post is to introduce you the AI Agents and the Bee Agent Framework and how to create an agent a simple agent.
Nowadays AI, and especially LLMs are everywhere, I guess you have heard about chatGPT, copilot, llama,  deepseek, etc.
Those models are very powerful, but you can &ldquo;only&rdquo; chat with them, ask them to write code, or search for information, but they can&rsquo;t act on your behalf, they can&rsquo;t interact with other systems, they can&rsquo;t do things for you."><meta property="og:type" content="article"><meta property="og:url" content="https://sergiocarracedo.es/bee-agent-framework-introduction/"><meta property="og:image" content="https://sergiocarracedo.es/bee-agent-framework-introduction/bee-agents-framework_hu_81cee77aec987818.jpg"><meta name=twitter:image content="https://sergiocarracedo.es/bee-agent-framework-introduction/bee-agents-framework_hu_81cee77aec987818.jpg"></meta><meta property="article:section" content="blog">
<meta property="article:published_time" content="2025-02-02T00:00:00+00:00"><meta property="article:modified_time" content="2025-02-02T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"></meta>
<link href=https://sergiocarracedo.es/bee-agent-framework-introduction/ rel=canonical><link href=https://sergiocarracedo.es/scss/main.min.c6aeadd0f64f9e58a5f36b759b3c5f69f04adcbaf95c581a64fdd28dfd1410e8.css integrity="sha256-xq6t0PZPnlil82t1mzxfafBK3Lr5XFgaZP3Sjf0UEOg=" rel="stylesheet preconnect"><link as=style href=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css rel="stylesheet preload" type=text/css></head><body><header class="web-header background-paper-secondary"><h2><a class=back-to-home href=/ title="Back to home"><i class="fas fa-home"></i><div class=back-to-home__content><span class=back-to-home__action>Back to home</span><div class=back-to-home__title><img alt="Sergio Carracedo" class=avatar src=/i/sergiocarracedo_hu_d186183080134713.jpg width=100 height=100><h4>Sergio Carracedo</h4></div></div></a></h2><div class=web-header__page-title><span>Introduction to an open-source framework to create AI multi-agent workflows: Bee Agent Framework</span></div><div class=theme-switch><i class="theme-switch__theme fas fa-sun" id=theme-switch-light title="Switch to light theme"></i>
<i class="theme-switch__theme fas fa-moon" id=theme-switch-dark title="Switch to dark theme"></i></div></header><div class=main-content><article class="post post--single"><div class="post__main wrapper-1200"><aside class=post__metadata><time class=post__date datetime=2025-02-02><i class="far fa-calendar-alt"></i> Feb 2, 2025
</time><a href=https://sergiocarracedo.es/tags/ai class=post__tag><span>ai</span>
</a><a href=https://sergiocarracedo.es/tags/agent class=post__tag><span>agent</span>
</a><a href=https://sergiocarracedo.es/tags/framework class=post__tag><span>framework</span>
</a><a href=https://sergiocarracedo.es/tags/ibm class=post__tag><span>ibm</span>
</a><a href=https://sergiocarracedo.es/tags/typescript class=post__tag><span>typescript</span>
</a><a href=https://sergiocarracedo.es/tags/open-source class=post__tag><span>open-source</span>
</a><span class=post__reading-time><i class="far fa-clock"></i> 7 minutes read</span></aside><header class=post__header><h1 class=post__title>Introduction to an open-source framework to create AI multi-agent workflows: Bee Agent Framework</h1></header><div class=post__cover><figure class=image-caption><img src=/bee-agent-framework-introduction/bee-agents-framework_hu_52fd9c176b9e7cc6.jpg alt="Introduction to an open-source framework to create AI multi-agent workflows: Bee Agent Framework" title="Introduction to an open-source framework to create AI multi-agent workflows: Bee Agent Framework" width=1200 height=367 srcset="/bee-agent-framework-introduction/bee-agents-framework_hu_3b8ec1f817ee7393.webp 458w, /bee-agent-framework-introduction/bee-agents-framework_hu_8634f64fb7aef429.webp 768w, /bee-agent-framework-introduction/bee-agents-framework_hu_4c70ed84118fbd03.webp 1200w" sizes="(max-width: 458px) 100vw, (max-width: 768px) 100vw, 1200px"></figure></div><div class=post__content><blockquote><p>The goal of this post is to introduce you the AI Agents and the Bee Agent Framework and how to create an agent a simple agent.</p></blockquote><p>Nowadays AI, and especially LLMs are everywhere, I guess you have heard about chatGPT, copilot, llama, deepseek, etc.</p><p>Those models are very powerful, but you can &ldquo;only&rdquo; chat with them, ask them to write code, or search for information, but they can&rsquo;t act on your behalf, they can&rsquo;t interact with other systems, they can&rsquo;t do things for you.</p><p>That is where AI agents come into play. AI Agents are programs or systems that can act autonomously on behalf of the user or another system to perform tasks.</p><p>For example, Open AI just released (at the moment of writing this post) <a href=https://operator.chatgpt.com/>Operator</a> which is a &ldquo;<em>agent that can use its browser to perform tasks for you.</em>&rdquo;. <a href=https://www.langchain.com/>LangChain</a> provides agents and an API to create new ones.</p><p><img src=agent-workflow.svg alt=agent-workflow title></p><p><strong>But how do agents work? How an agent can solve tasks?</strong>, tasks can interact with other systems, for example navigate in internet (like OpenAI operator does), getting a file from your computer, using a CLI tool to convert a markdown to pdf, &ldquo;see&rdquo; and interacting with your desktop as Claude does, etc.</p><p>To do that, an agent has additional components that allow it to interact with the environment, those components are the <strong>tools</strong>. Tools extend the agent&rsquo;s capabilities to interact with the environment (external systems), get the information it needs to answer your question, or execute the task you ask for.</p><p>Imagine an agent who is in charge of organizing a trip for you, the rule of the agent is: if the travel day is rainy, use a train, if it is not, use a plane, it needs to check the weather forecast, it needs to interact with the internet to find the best flight or train, with your calendar to check if you are available, with your bank to pay for the tickets, etc. Those are the tools the agent needs to have to perform the task: A tool to check the forecast, a tool to navigate on internet on a flight/train search engine, a tool to check your calendar, a tool to interact with your bank and pay, a tool to save the flight information in your calendar, etc.</p><p>The agent provides the context to the LLM model about what tools do and how to ask for that, and depending on your question the LLM will decide to use one or another tool to solve the task and how to use it. For example, if you ask the agent to book a flight next Friday, the LLM &ldquo;knows&rdquo; that should use a tool to navigate on a flight search engine, and provide the origin, destination, and date to the tool to get the information it needs to answer your question. (or if you donÂ´t give the destination ask you for it as it knows it needs it to use the flight search engine).</p><h2 id=bee-agent-framework>Bee Agent Framework</h2><p>Recently IBM released an open-source framework to create AI multi-agent workflows: <a href=https://github.com/i-am-bee/beeai-framework>Bee Agent Framework</a>. It can work with multiple LLM providers (WatsonX, OpenIA, Azure OpenIA, Langchain, Groq, etc) but the most interesting provider is <a href=https://ollama.com/>Ollama</a> that allows you to run multiple models to use like: llama, phi4, and the new one: deepseek-r1 is not able to call functions yet, but probably will be in the future.
It was written in Typescript and you can write tools and agents in Typescript or Javascript.</p><p>To illustrate how it works we will create an agent that can list and read the documents (.txt or .md files in a folder) and can save documents.</p><p>To do that we need to create a tool to list the folder files and read the documents and a tool to save files from a markdown.</p><p>Let start with the list tool:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>// src/tools/MyDocuments/MyDocumentsListTool.ts
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>ToolEmitter</span>, <span style=color:#a6e22e>Tool</span>, <span style=color:#a6e22e>ToolInput</span>, <span style=color:#a6e22e>JSONToolOutput</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;bee-agent-framework/tools/base&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>fs</span> <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;node:fs&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>z</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;zod&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Emitter</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;bee-agent-framework/emitter/emitter&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>basename</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;node:path&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyDocumentsListTool</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>Tool</span>&lt;<span style=color:#f92672>JSONToolOutput</span>&lt;<span style=color:#f92672>string</span><span style=color:#960050;background-color:#1e0010>[]</span>&gt;&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;MyDocumentsListTool&#34;</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>description</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Returns the list of documents files names.&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>constructor</span>(<span style=color:#66d9ef>private</span> <span style=color:#a6e22e>folder</span>: <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>super</span>()
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>readonly</span> <span style=color:#a6e22e>emitter</span>: <span style=color:#66d9ef>ToolEmitter</span>&lt;<span style=color:#f92672>ToolInput</span>&lt;<span style=color:#f92672>this</span>&gt;, <span style=color:#a6e22e>JSONToolOutput</span>&lt;<span style=color:#f92672>string</span><span style=color:#960050;background-color:#1e0010>[]</span>&gt;&gt; <span style=color:#f92672>=</span> <span style=color:#a6e22e>Emitter</span>.<span style=color:#a6e22e>root</span>.<span style=color:#a6e22e>child</span>({
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>namespace</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#34;tool&#34;</span>, <span style=color:#e6db74>&#34;MyDocuments&#34;</span>],
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>creator</span>: <span style=color:#66d9ef>this</span>,
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>inputSchema() {</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>z</span>.<span style=color:#66d9ef>object</span>({
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>filter</span>: <span style=color:#66d9ef>z.string</span>().<span style=color:#a6e22e>optional</span>().<span style=color:#a6e22e>describe</span>(
</span></span><span style=display:flex><span>        <span style=color:#e6db74>`A regex to filter documents by name`</span>,
</span></span><span style=display:flex><span>      ),
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>static</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>register</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>_run</span>(<span style=color:#a6e22e>input</span>: <span style=color:#66d9ef>ToolInput</span>&lt;<span style=color:#f92672>this</span>&gt;)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Promise</span>&lt;<span style=color:#f92672>JSONToolOutput</span>&lt;<span style=color:#f92672>string</span><span style=color:#960050;background-color:#1e0010>[]</span>&gt;&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>filter</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>filter</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>regex</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> RegExp(<span style=color:#a6e22e>filter</span> <span style=color:#f92672>||</span> <span style=color:#e6db74>&#39;&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>files</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>readdirSync</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>folder</span>).<span style=color:#a6e22e>map</span>(
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>file</span> <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>basename</span>(<span style=color:#a6e22e>file</span>)).<span style=color:#a6e22e>filter</span>(<span style=color:#a6e22e>file</span> <span style=color:#f92672>=&gt;</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>filter</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>regex</span>.<span style=color:#a6e22e>test</span>(<span style=color:#a6e22e>file</span>)
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>JSONToolOutput</span>(<span style=color:#a6e22e>files</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This tool is very simple, this code has nothing special (<code>_run</code> method) it returns the list of the file names in a folder (provided in the constructor) and filters them by a regex provided in the input. <strong>That&rsquo;s all</strong>, nothing related to AI, LLM, etc. Just a tool that returns a list of files.</p><p>The &ldquo;magic&rdquo; are is the Â´descriptionÂ´ property and the Â´inputSchemaÂ´ method, we describe what the tool does and what input it needs, and Bee framework will use that information to provide context to the LLM model. Then the LLM can decide to use this tool to solve a task or not depending on the user input.</p><p>We only need to register the tool (or tools in or agent) and the framework will take care of the rest.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>// src/agents/
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>__dirname</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>url</span>.<span style=color:#a6e22e>fileURLToPath</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URL</span>(<span style=color:#e6db74>&#39;.&#39;</span>, <span style=color:#66d9ef>import</span>.<span style=color:#a6e22e>meta</span>.<span style=color:#a6e22e>url</span>));
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>documentsFolder</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>join</span>(<span style=color:#a6e22e>__dirname</span>, <span style=color:#e6db74>&#39;..&#39;</span>, <span style=color:#e6db74>&#39;..&#39;</span>, <span style=color:#e6db74>&#39;documents&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>llm</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>OllamaChatLLM</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>agent</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>BeeAgent</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>llm</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>memory</span>: <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>TokenMemory</span>({ <span style=color:#a6e22e>llm</span> }),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tools</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>MyDocumentsListTool</span>(<span style=color:#a6e22e>documentsFolder</span>), 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>MyDocumentsReadTool</span>(<span style=color:#a6e22e>documentsFolder</span>), 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>SaveFileTool</span>(<span style=color:#a6e22e>documentsFolder</span>)],
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>reader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createConsoleReader</span>();
</span></span><span style=display:flex><span><span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#66d9ef>await</span> (<span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>prompt</span> } <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>reader</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>response</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>agent</span>
</span></span><span style=display:flex><span>        .<span style=color:#a6e22e>run</span>(
</span></span><span style=display:flex><span>          { <span style=color:#a6e22e>prompt</span> },
</span></span><span style=display:flex><span>          {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>execution</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>maxRetriesPerStep</span>: <span style=color:#66d9ef>3</span>,
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>totalMaxRetries</span>: <span style=color:#66d9ef>10</span>,
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>maxIterations</span>: <span style=color:#66d9ef>20</span>,
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>        )
</span></span><span style=display:flex><span>        .<span style=color:#a6e22e>observe</span>((<span style=color:#a6e22e>emitter</span>) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>emitter</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#34;error&#34;</span>, ({ <span style=color:#a6e22e>error</span> }) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>reader</span>.<span style=color:#a6e22e>write</span>(<span style=color:#e6db74>`Agent ðŸ¤– : `</span>, <span style=color:#a6e22e>FrameworkError</span>.<span style=color:#a6e22e>ensure</span>(<span style=color:#a6e22e>error</span>).<span style=color:#a6e22e>dump</span>());
</span></span><span style=display:flex><span>          });
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>emitter</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#34;retry&#34;</span>, () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>reader</span>.<span style=color:#a6e22e>write</span>(<span style=color:#e6db74>`Agent ðŸ¤– : `</span>, <span style=color:#e6db74>&#34;retrying the action...&#34;</span>);
</span></span><span style=display:flex><span>          });
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>emitter</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#34;update&#34;</span>, <span style=color:#66d9ef>async</span> ({ <span style=color:#a6e22e>data</span>, <span style=color:#a6e22e>update</span>, <span style=color:#a6e22e>meta</span> }) <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>            <span style=color:#75715e>// log &#39;data&#39; to see the whole state
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#75715e>// to log only valid runs (no errors), check if meta.success === true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>reader</span>.<span style=color:#a6e22e>write</span>(<span style=color:#e6db74>`Agent (</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>update</span>.<span style=color:#a6e22e>key</span><span style=color:#e6db74>}</span><span style=color:#e6db74>) ðŸ¤– : `</span>, <span style=color:#a6e22e>update</span>.<span style=color:#a6e22e>value</span>);
</span></span><span style=display:flex><span>          });
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>reader</span>.<span style=color:#a6e22e>write</span>(<span style=color:#e6db74>`Agent ðŸ¤– : `</span>, <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>text</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>logger</span>.<span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>FrameworkError</span>.<span style=color:#a6e22e>ensure</span>(<span style=color:#a6e22e>error</span>).<span style=color:#a6e22e>dump</span>());
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>finally</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>reader</span>.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div><p>That is the power of the Bee framework, you can create tools that extend the agent&rsquo;s capabilities to interact with the environment, and the LLM model can use them to solve tasks.</p><p>One interesting thing add &ldquo;<a href=https://medium.com/towards-data-science/safeguarding-llms-with-guardrails-4f5d9f57cff2>guardrails</a>&rdquo; at tool level, not only at the model level, for example only giving access to a specific folder, or only allow to save files in a specific folder, controlling file access with the user ACLs, etc.</p><p>In the example agent the it interacts with the user via console, but you can create a web interface, anything you want.</p><h2 id=see-it-in-action>See it in action</h2><p>To run the agent you need to:</p><ul><li>install <a href=https://ollama.com/>ollama</a></li><li>clone this <a href=https://github.com/sergiocarracedo/document-bee-agent-poc>github repository</a>.</li><li>install the dependencies: <code>pnpm install</code></li><li>and then run the agent: <code>pnpm start</code></li></ul><p>And now you can interact with the agent.
You can ask to create a new document, list the documents starting with a certain letter, read a document, etc.
Bee can also handle errors (check the last part of the video), retrying the action differently.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/38T35Zs-VMs?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><h2 id=conclusion>Conclusion</h2><p>Agents are a very powerful tool to make LLMs interact with the environment, and the Bee framework allows you to create them easily, and extend their capabilities with tools that can interact with the environment, to read a file, to call an API, to interact with a database, anything you can imagine.</p><p>This is just an introduction to the Bee framework where I just put the focus in a couple of aspects of the framework, but there are a lot of things to discover, like the memory system, the workflows, use different providers like OpenAI, WatsonX, etc. I you are interested on it, please let me know in the comments and I will write more about it.</p></div></div><aside class=post__nav-wrapper><div class=wrapper-1200><div class="post-nav post-nav--prev"><a class=post-nav__link href="https://sergiocarracedo.es/git-publish/?ref=footer"><div class="post-nav__cover btn btn--img btn--hover-parent"><img alt=.Next.Title src=/git-publish/pexels-pixabay-73871_hu_fe69b14c1d7dd9d0.jpg width=200 height=120></div><div class=post-nav__title>Git publish: Releasing and publishing ephemeral...</div></a></div><div class=blog-link><a class="btn btn--outlined" href=https://sergiocarracedo.es/blog>All Blog posts</a></div><div class="post-nav post-nav--next"><a class=post-nav__link href="https://sergiocarracedo.es/corepack/?ref=footer"><div class="post-nav__cover btn btn--img btn--hover-parent"><img alt=.Prev.Title class=post-nav__cover src=/corepack/sivani-bandaru-bczrpU9n8f4-unsplash_hu_105bffb0d4acd680.jpg width=200 height=120></div><div class=post-nav__title>Forget about installing yarn, pnpm, etc. Using...</div></a></div></div><div class="wrapper-1200 post__nav-years"><ul class=years><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2025>2025</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2024>2024</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2023>2023</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2022>2022</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2021>2021</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2020>2020</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2019>2019</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2018>2018</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2017>2017</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2016>2016</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2015>2015</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2013>2013</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2012>2012</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2011>2011</a></li><li><a class=link href=https://sergiocarracedo.es/blog/by-year#2010>2010</a></li></ul></div></aside><aside class=post__search-wrapper><div class=wrapper-1200>Search in <strong>152</strong> blog posts:<form action=https://sergiocarracedo.es/search class="search-form search-form--dark search-form--l" method=get><label for=search-input hidden>Search</label>
<input class=search-form__input id=search-input name=query placeholder=Search type=text>
<button aria-label="Search in the blog" class=search-form__button>
<i class="fas fa-search"></i></button></form></div></aside><aside class=post__comments><div class=wrapper-1200><div id=disqus_thread>To show comments is mandatory to accept cookie policy.</div></div></aside></article></div><footer class="web-footer background-paper-secondary"><div class=wrapper-1200><div class=web-footer__left><div class=me><div class=me__avatar><img alt="Sergio Carracedo" height=180 src=/i/sergiocarracedo_hu_29e02a349ba171bb.jpg width=180></div><div class=me__titles><h1>Sergio Carracedo</h1><h2>Senior Fullstack developer.</h2><h3>Always learning, cats, good conversations and small details lover.</h3></div></div></div><div class=web-footer__right><nav class=menu><ul role=menu><li class=menu__item role=presentation><a role=menuitem href=https://sergiocarracedo.es/>Home</a></li><li class=menu__item role=presentation><a role=menuitem href=https://sergiocarracedo.es/blog>Blog</a></li><li class=menu__item role=presentation><a role=menuitem href=https://sergiocarracedo.es/index.xml>RSS Feed</a></li></ul></nav><div class=social><a class=social__link href=http://www.linkedin.com/in/sergiocarracedo target=_blank title=LinkedIn style=animation-delay:2s><i class="fab fa-linkedin"></i>
</a><a class=social__link href=mailto:hi+blog@sergiocarracedo.es target=_blank title=Email style=animation-delay:1.9333333333333333s><i class="fas fa-envelope"></i>
</a><a class=social__link href=https://github.com/sergiocarracedo target=_blank title=GitHub style=animation-delay:1.8666666666666667s><i class="fab fa-github"></i>
</a><a class=social__link href=https://bsky.app/profile/sergiocarracedo.es target=_blank title=Bluesky style=animation-delay:1.8s><svg fill="none" viewBox="0 0 64 57"><path fill="currentcolor" d="M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022.0 8.51.0 6.55.0-3.268 8.579-.182 13.873 3.805zm36.254.0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"/></svg>
</a><a class=social__link href=https://www.drupal.org/u/sergiocarracedo target=_blank title=Drupal style=animation-delay:1.7333333333333334s><i class="fab fa-drupal"></i>
</a><a class=social__link href=https://www.npmjs.com/~sergiocarracedo target=_blank title=Npm style=animation-delay:1.6666666666666667s><svg viewBox="0 0 780 250" aria-hidden="true"><path fill="currentcolor" d="M240 250h1e2v-50h1e2V0H240V250zM340 50h50v1e2h-50V50zM480 0v2e2h1e2V50h50v150h50V50h50v150h50V0H480zM0 2e2h1e2V50h50v150h50V0H0V2e2z" stroke-width="5" stroke="currentcolor"/></svg>
</a><a class=social__link href=https://www.twitter.com/sergiocarracedo target=_blank title=Twitter style=animation-delay:1.6s><i class="fab fa-twitter"></i>
</a><a class=social__link href=http://www.last.fm/user/gasman40 target=_blank title=Last.fm style=animation-delay:1.5333333333333332s><i class="fab fa-lastfm"></i>
</a><a class=social__link href=http://sergiocarracedo.tumblr.com/ target=_blank title=Tumblr style=animation-delay:1.4666666666666668s><i class="fab fa-tumblr"></i></a></div></div></div></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-87X78TXEGE"></script><script>function runGA(){window.dataLayer=window.dataLayer||[];function e(){dataLayer.push(arguments)}e("js",new Date),e("config","G-87X78TXEGE")}</script><script>function runDisqus(){(function(){var e=document,t=e.createElement("script");t.src="https://sergiocarracedo.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()}</script><script src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js></script><script>window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#004262",text:"#fff"},button:{background:"#8ec760",text:"#ffffff"}},type:"opt-out",content:{message:"Este sitio usa cookies propias y de terceros para mejorar la experiencia de usuario y esas cosas.",allow:"Ok, continua",deny:"Nada de cookies",link:"Saber mÃ¡s",href:"https://sergiocarracedo.es/cookies"},onStatusChange:function(e){e=="allow"&&runCookiesAllowed()},onInitialise:function(e){e=="allow"&&runCookiesAllowed()}})})</script><script>addEventListener("scroll",e=>{let t=document.getElementsByTagName("body")[0];t&&window.scrollY>10?t.classList.add("not-in-top"):t.classList.remove("not-in-top")});function runCookiesAllowed(){runGA(),runDisqus()}</script><script integrity="sha256-hyPros3hoBf0jJM1+zayQLFFkchXwy4d/k2QMvk0sHs=" src=https://sergiocarracedo.es/js/theme.min.8723eba2cde1a017f48c9335fb36b240b14591c857c32e1dfe4d9032f934b07b.js></script><script src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js type=text/javascript></script><script integrity="sha256-9aiKKMxF0IhB2gmJbfgVOjk8GCtKW7zP2MwD74dPfDo=" src=https://sergiocarracedo.es/js/search.min.f5a88a28cc45d08841da09896df8153a393c182b4a5bbccfd8cc03ef874f7c3a.js></script></body></html>