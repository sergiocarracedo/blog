<!doctype html><html><head><meta charset=UTF-8><meta content="IE=edge,chrome=1" http-equiv=X-UA-Compatible><meta content="width=device-width,minimum-scale=1" name=viewport><title>Sergio Carracedo | Typescript enums: Replacing them with const and union types</title>
<meta content="yes" name=apple-mobile-web-app-capable><meta content="black-translucent" name=apple-mobile-web-app-status-bar-style><meta content="Sergio Carracedo's personal page and blog" name=description><meta content="Sergio Carracedo" name=author><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><meta property="og:title" content="Typescript enums: Replacing them with const and union types"><meta property="og:description" content="Last year I wrote a post about the typescript enums: how to use them, some of the disadvantages, how to mitigate them, and how to replace the enums with const enums and read-only maps.
In that post, I showed how to replace the enums with const enums and read-only maps, and I also mentioned the union types as an alternative to the enums.
In this post, I want to go deeper into the union types as a replacement for the enums in some cases."><meta property="og:type" content="article"><meta property="og:url" content="https://sergiocarracedo.es/typescript-enums-ii/"><meta property="og:image" content="https://sergiocarracedo.es/typescript-enums-ii/_081fe03f-6eb1-40ef-9ed6-75f25067b0ad_hu9cf9197fba2cced07284224a11b070e0_161856_1920x1080_fill_q75_box_center.jpeg"><meta name=twitter:image content="https://sergiocarracedo.es/typescript-enums-ii/_081fe03f-6eb1-40ef-9ed6-75f25067b0ad_hu9cf9197fba2cced07284224a11b070e0_161856_1920x1080_fill_q75_box_center.jpeg"></meta><meta property="article:section" content="blog">
<meta property="article:published_time" content="2024-04-01T00:00:00+00:00"><meta property="article:modified_time" content="2024-04-01T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"></meta>
<link rel=canonical href=https://sergiocarracedo.es/typescript-enums-ii/><link href=https://sergiocarracedo.es/scss/main.1559a03561830d7de305f4c9f989ccda247f022d321e21b0e121c745373917ff.css integrity="sha256-FVmgNWGDDX3jBfTJ+YnM2iR/Ai0yHiGw4SHHRTc5F/8=" rel=stylesheet><link href=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css rel=stylesheet type=text/css></head><body><header class="web-header background-paper-secondary"><h2><a class=back-to-home href=/ title="Back to home"><i class="fas fa-home"></i><div class=back-to-home__content><span class=back-to-home__action>Back to home</span><div class=back-to-home__title><img alt="Sergio Carracedo" class=avatar src=/i/sergiocarracedo_hu6caa808ff324b89bfea4b9d7d1c850ee_80590_100x100_fit_q75_box.jpg><h4>Sergio Carracedo</h4></div></div></a></h2><div class=web-header__page-title><span>Typescript enums: Replacing them with const and union types</span></div><div class=theme-switch><i class="theme-switch__theme fas fa-sun" id=theme-switch-light title="Switch to light theme"></i>
<i class="theme-switch__theme fas fa-moon" id=theme-switch-dark title="Switch to dark theme"></i></div></header><div class=main-content><article class="post post--single"><div class="post__main wrapper-1200"><aside class=post__metadata><time class=post__date datetime=2024-04-01><i class="far fa-calendar-alt"></i> Apr 1, 2024
</time><a href=https://sergiocarracedo.es/tags/typescript class=post__tag><span>typescript</span>
</a><span class=post__reading-time><i class="far fa-clock"></i> 4 minutes read</span></aside><header class=post__header><h1 class=post__title>Typescript enums: Replacing them with const and union types</h1></header><figure class=post__cover><img src=/typescript-enums-ii/_081fe03f-6eb1-40ef-9ed6-75f25067b0ad_hu9cf9197fba2cced07284224a11b070e0_161856_1200x400_fill_q75_box_center.jpeg alt="Typescript enums: Replacing them with const and union types" width=1200 height=400></figure><div class=post__content><p>Last year <a href=https://sergiocarracedo.es/typescript-enums/>I wrote a post about the typescript enums</a>: how to use them, some of the disadvantages, how to mitigate them, and how to replace the enums with const enums and read-only maps.</p><p>In that post, I showed how to replace the enums with const enums and read-only maps, and I also mentioned the union types as an alternative to the enums.</p><p>In this post, I want to go deeper into the union types as a replacement for the enums in some cases.</p><h2 id=union-types-as-enum-replacement>Union types as enum replacement</h2><p>If you remember one of the advantages of the enums is the grouping of the values giving them a semantic meaning, and limiting the possible values to use. They are also real values not only types, which means you can use them in the runtime, for example, to get a list of the possible values.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>HttpResponseStatus</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>NotFound</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>404</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Forbidden</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>403</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>Ok</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>InternalServerError</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>500</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>httpStatusNames</span> <span style=color:#f92672>=</span> Object.<span style=color:#a6e22e>values</span>(<span style=color:#a6e22e>HttpResponseStatus</span>).<span style=color:#a6e22e>filter</span>(<span style=color:#a6e22e>v</span> <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;string&#39;</span>)
</span></span></code></pre></div><p>Yes, I know that code looks weird, but the reason why is how the enums work in Typescript (please <a href=https://sergiocarracedo.es/typescript-enums/>check the previous post</a> for more details).</p><p>If we don&rsquo;t need the semantic meaning, we can use the union types to replace the enums, for example, the previous enum can be replaced by the following union type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>HttpResponseStatus</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>404</span> <span style=color:#f92672>|</span> <span style=color:#ae81ff>403</span> <span style=color:#f92672>|</span> <span style=color:#ae81ff>200</span> <span style=color:#f92672>|</span> <span style=color:#ae81ff>500</span>
</span></span></code></pre></div><p>But, what if I need the list of the possible values in runtime?. This is a type, and types don&rsquo;t exist in the runtime, so we can&rsquo;t get the list of the possible values.</p><p>We can create a const array with the possible values, and use it to get the list of the possible values:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>HttpResponseStatusValues</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>404</span>, <span style=color:#ae81ff>403</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>500</span>] <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>const</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>HttpResponseStatus</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>404</span> <span style=color:#f92672>|</span> <span style=color:#ae81ff>403</span> <span style=color:#f92672>|</span> <span style=color:#ae81ff>200</span> <span style=color:#f92672>|</span> <span style=color:#ae81ff>500</span>
</span></span></code></pre></div><p>But doing that means we need to maintain the list of the possible values in two places, the type, and the array, and that&rsquo;s not a good idea.</p><h2 id=typescript-typeof-and-indexed-access-types-to-the-rescue>Typescript: Typeof and indexed access types to the rescue</h2><p>We want to create (or infer) the type from the array to use values and type and don&rsquo;t need to maintain the list of the possible values in two places.</p><p>We can use the <code>typeof</code> operator to get the type of the array:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>HttpResponseStatusValues</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>404</span>, <span style=color:#ae81ff>403</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>500</span>] <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>const</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>HttpResponseStatus</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>HttpResponseStatusValues</span> <span style=color:#75715e>// readonly [404, 403, 200, 500]
</span></span></span></code></pre></div><p>Using <code>typeof</code> over the array of possible values we get the type of the array: <code>readonly [404, 403, 200, 500]</code>, but that is not the type we want.</p><p>To get the type we want we can use the <a href=https://www.typescriptlang.org/docs/handbook/2/indexed-access-types.html>indexed access types</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>HttpResponseStatusValues</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>404</span>, <span style=color:#ae81ff>403</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>500</span>] <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>const</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>HttpResponseStatus</span> <span style=color:#f92672>=</span> (<span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>HttpResponseStatusValues</span>)[<span style=color:#66d9ef>number</span>] <span style=color:#75715e>// &#39;404&#39; | &#39;403&#39; | &#39;200&#39; | &#39;500&#39;
</span></span></span></code></pre></div><p><em>Voilà!</em> we have the type we want, and we can use it as a type, for example in a function&rsquo;s argument, and also use the list of the possible values in runtime:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>someFunction</span>(<span style=color:#a6e22e>status</span>: <span style=color:#66d9ef>HttpResponseStatus</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>HttpResponseStatusValues</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#a6e22e>status</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>&#39;Invalid status&#39;</span>)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#75715e>// do something
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h3 id=how-it-works>How it works</h3><p>Let me explain a bit in detail how it works. Imagine we have the following type that represents a &ldquo;complex&rdquo; object to store the car&rsquo;s information:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Car</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>engine</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cylinders</span>: <span style=color:#66d9ef>number</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fuel</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;petrol&#39;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#39;diesel&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>battery</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;lithium&#39;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#39;lead&#39;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>wheels</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>count</span>: <span style=color:#66d9ef>4</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>diameter</span>: <span style=color:#66d9ef>16</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>If we want to get the type of the <code>engine</code> property we can use the indexed access type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Engine</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Car</span>[<span style=color:#e6db74>&#39;engine&#39;</span>] <span style=color:#75715e>// { cylinders: number, fuel: &#39;petrol&#39; | &#39;diesel&#39;}
</span></span></span></code></pre></div><p><em><code>engine</code> is not a string, it&rsquo;s a type, and this in key</em>, it&rsquo;s a <code>keyof Car</code></p><p>As the &ldquo;indexed type&rdquo; is a type we can use another kind of type as index, for example, a union type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Power</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Engine</span>[<span style=color:#e6db74>&#39;fuel&#39;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#39;battery&#39;</span>] <span style=color:#75715e>// &#39;petrol&#39; | &#39;diesel&#39; | &#39;lithium&#39; | &#39;lead&#39;
</span></span></span></code></pre></div><p>And now we can use an arbitrary type like <code>number</code> as an indexed type to get all the types in an array</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>HttpResponseStatusValues</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>404</span>, <span style=color:#ae81ff>403</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>500</span>] <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>const</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>HttpResponseStatus</span> <span style=color:#f92672>=</span> (<span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>HttpResponseStatusValues</span>)[<span style=color:#66d9ef>number</span>] <span style=color:#75715e>// &#39;404&#39; | &#39;403&#39; | &#39;200&#39; | &#39;500&#39;
</span></span></span></code></pre></div><p>The array can be something more complex, for example, an array of objects:</p><p>Please note the <code>as const</code> is needed to infer the type of the array as a tuple, if we don&rsquo;t use it the type will be <code>number[]</code> and we will not be able to use the indexed access type.</p><p>If you don&rsquo;t need the semantic meaning of the enums, and you need to use the possible values in runtime, you can use the union types and the indexed access types to get the type and the list of the possible values in runtime.</p></div></div><aside class=post__nav-wrapper><div class=wrapper-1200><div class="post-nav post-nav--prev"><a class=post-nav__link href="https://sergiocarracedo.es/ui-components-library-ii-anatomy-interfaces/?ref=footer"><div class="post-nav__cover btn btn--img btn--hover-parent"><img alt=.NextPage.Title src=/ui-components-library-ii-anatomy-interfaces/OIG2_2_hu5eb53ff079ed3118a384084e8de87103_297360_200x120_fill_q75_box_center.jpeg></div><div class=post-nav__title>UI components library (Chapter II): Components...</div></a></div><div class=blog-link><a class="btn btn--outlined" href=https://sergiocarracedo.es/blog>All Blog posts</a></div><div class="post-nav post-nav--next"><a class=post-nav__link href="https://sergiocarracedo.es/ui-components-library-i-why-and-to-create-one/?ref=footer"><div class="post-nav__cover btn btn--img btn--hover-parent"><img alt=.PrevPage.Title class=post-nav__cover src=/ui-components-library-i-why-and-to-create-one/OIG2_hud784e60e51fbe89df4245fdfc7133628_383938_200x120_fill_q75_box_center.jpeg></div><div class=post-nav__title>UI components library (Chapter I): Why and to...</div></a></div></div></aside><aside class=post__search-wrapper><div class=wrapper-1200>Search in this blog:<form class="search-form search-form--dark search-form--l" action=https://sergiocarracedo.es/search method=get><label hidden for=search-input>Search</label>
<input type=text id=search-input name=query placeholder=Search class=search-form__input>
<button class=search-form__button>
<i class="fas fa-search"></i></button></form></div></aside><aside class=post__comments><div class=wrapper-1200><div id=disqus_thread>To show the comments is mandatory accept cookie policy.</div></div></aside></article></div><footer class="web-footer background-paper-secondary"><div class=wrapper-1200><div class=web-footer__left><div class=me><div class=me__avatar><img alt="Sergio Carracedo" src=/i/sergiocarracedo_hu6caa808ff324b89bfea4b9d7d1c850ee_80590_170x170_fit_q75_box.jpg></div><div class=me__titles><h1>Sergio Carracedo</h1><h2>Senior Fullstack developer.</h2><h3>Always learning, cats, good conversations and small details lover.</h3></div></div></div><div class=web-footer__right><nav role=main class=menu><ul><li class=menu__item><a href=https://sergiocarracedo.es/>Home</a></li><li class=menu__item><a href=https://sergiocarracedo.es/blog>Blog</a></li></ul></nav><div class=social><a class=social__link href=http://www.linkedin.com/in/sergiocarracedo target=_blank title=LinkedIn style=animation-delay:2s><i class="fab fa-linkedin"></i>
</a><a class=social__link href=mailto:hi+blog@sergiocarracedo.es target=_blank title=Email style=animation-delay:1.9333333333333333s><i class="fas fa-envelope"></i>
</a><a class=social__link href=https://github.com/sergiocarracedo target=_blank title=GitHub style=animation-delay:1.8666666666666667s><i class="fab fa-github"></i>
</a><a class=social__link href=https://www.drupal.org/u/sergiocarracedo target=_blank title=Drupal style=animation-delay:1.8s><i class="fab fa-drupal"></i>
</a><a class=social__link href=https://www.twitter.com/sergiocarracedo target=_blank title=Twitter style=animation-delay:1.7333333333333334s><i class="fab fa-twitter"></i>
</a><a class=social__link href=http://www.last.fm/user/gasman40 target=_blank title=Last.fm style=animation-delay:1.6666666666666667s><i class="fab fa-lastfm"></i>
</a><a class=social__link href=http://sergiocarracedo.tumblr.com/ target=_blank title=Tumblr style=animation-delay:1.6s><i class="fab fa-tumblr"></i></a></div></div></div></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-87X78TXEGE"></script><script>function runGA(){window.dataLayer=window.dataLayer||[];function e(){dataLayer.push(arguments)}e("js",new Date),e("config","G-87X78TXEGE")}</script><script>function runDisqus(){(function(){var e=document,t=e.createElement("script");t.src="https://sergiocarracedo.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()}</script><script src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js></script><script>window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#004262",text:"#fff"},button:{background:"#8ec760",text:"#ffffff"}},type:"opt-out",content:{message:"Este sitio usa cookies propias y de terceros para mejorar la experiencia de usuario y esas cosas.",allow:"Ok, continua",deny:"Nada de cookies",link:"Saber más",href:"https://sergiocarracedo.es/cookies"},onStatusChange:function(e){e=="allow"&&runCookiesAllowed()},onInitialise:function(e){e=="allow"&&runCookiesAllowed()}})})</script><script>addEventListener("scroll",e=>{let t=document.getElementsByTagName("body")[0];t&&window.scrollY>10?t.classList.add("not-in-top"):t.classList.remove("not-in-top")});function runCookiesAllowed(){runGA(),runDisqus()}</script><script integrity="sha256-iiQa3rTjie3Ydsr4WEu2+aLDTaxKKVR3ZTwTYrRUjXs=" src=https://sergiocarracedo.es/js/theme.8a241adeb4e389edd876caf8584bb6f9a2c34dac4a295477653c1362b4548d7b.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script integrity="sha256-LVPRt2Ca+MpOY1KztdII4jRv+U0kJBcBZEvwhZr2a4Y=" src=https://sergiocarracedo.es/js/search.2d53d1b7609af8ca4e6352b3b5d208e2346ff94d24241701644bf0859af66b86.js></script></body></html>