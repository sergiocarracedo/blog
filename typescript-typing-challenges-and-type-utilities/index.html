<!doctype html><html><head><meta charset=utf-8><meta content="IE=edge,chrome=1" http-equiv=x-ua-compatible><meta content="width=device-width,minimum-scale=1" name=viewport><title>Sergio Carracedo | Typescript typing challenges and type utilities</title><meta content="yes" name=apple-mobile-web-app-capable><meta content="black-translucent" name=apple-mobile-web-app-status-bar-style><meta content="Sergio Carracedo's personal page and blog" name=description><meta content="Sergio Carracedo" name=author><link href=/favicon.png rel=icon><meta property="og:title" content="Typescript typing challenges and type utilities"><meta property="og:description" content="Recently I was looking for more knowledge about Typescript typing, how to create more advanced and better types, and I can say that it&rsquo;s a big deal, there are a lot of things you can do and, you never imagined before.
During that &ldquo;investigation&rdquo; I found very interesting resources I want to share with you.
Type Challenge https://tsch.js.org/
It&rsquo;s a repository that includes a lot of, very well-documented, and designed typing challenges."><meta property="og:type" content="article"><meta property="og:url" content="https://sergiocarracedo.es/typescript-typing-challenges-and-type-utilities/"><meta property="og:image" content="https://sergiocarracedo.es/typescript-typing-challenges-and-type-utilities/pexels-david-buchi-1070345_hue3e183c5fa902cd4ae789f3e908b1fee_355537_1920x1080_fill_q75_box_center.jpg"><meta name=twitter:image content="https://sergiocarracedo.es/typescript-typing-challenges-and-type-utilities/pexels-david-buchi-1070345_hue3e183c5fa902cd4ae789f3e908b1fee_355537_1920x1080_fill_q75_box_center.jpg"></meta><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-12-12T00:00:00+00:00"><meta property="article:modified_time" content="2022-12-12T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"></meta><link href=https://sergiocarracedo.es/scss/main.2fd96352cefb0fc6d22a709a5c49be2d08c4854cce0d451385d9b0e30adcce2e.css integrity="sha256-L9ljUs77D8bSKnCaXEm+LQjEhUzODUUThdmw4wrczi4=" rel=stylesheet><link href=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css rel=stylesheet type=text/css></head><body><header class=web-header><h2><a class=back-to-home href=/ title="Back to home"><i class="fas fa-home"></i><div class=back-to-home__content><span class=back-to-home__action>Back to home</span><div class=back-to-home__title><img alt="Sergio Carracedo" class=avatar src=/i/sergiocarracedo_hu6caa808ff324b89bfea4b9d7d1c850ee_80590_100x100_fit_q75_box.jpg><h4>Sergio Carracedo</h4></div></div></a></h2><div class=web-header__page-title><span>Typescript typing challenges and type utilities</span></div><div class=theme-switch><i class="theme-switch__theme fas fa-sun" id=theme-switch-light title="Switch to light theme"></i>
<i class="theme-switch__theme fas fa-moon" id=theme-switch-dark title="Switch to dark theme"></i></div></header><div class=main-content><article class="post post--single"><div class="post__main wrapper-1200"><aside class=post__metadata><time class=post__date datetime=2022-12-12><i class="far fa-calendar-alt"></i> Dec 12, 2022</time><div class=post__tags><a href=https://sergiocarracedo.es/tags/typescript class=post__tag><span>typescript</span></a>
<a href=https://sergiocarracedo.es/tags/js class=post__tag><span>js</span></a></div><span class=post__reading-time><i class="far fa-clock"></i> 4 minutes read</span></aside><header class=post__header><h1 class=post__title>Typescript typing challenges and type utilities</h1></header><figure class=post__cover><img src=/typescript-typing-challenges-and-type-utilities/pexels-david-buchi-1070345_hue3e183c5fa902cd4ae789f3e908b1fee_355537_1200x400_fill_q75_box_center.jpg alt="Typescript typing challenges and type utilities" width=1200 height=400></figure><div class=post__content><p>Recently I was looking for more knowledge about Typescript typing, how to create more advanced and better types, and I can say that it&rsquo;s a big deal, there are a lot of things you can do and, you never imagined before.</p><p>During that &ldquo;investigation&rdquo; I found very interesting resources I want to share with you.</p><h1 id=type-challenge>Type Challenge</h1><p><a href=https://tsch.js.org/>https://tsch.js.org/</a></p><p>It&rsquo;s a repository that includes a lot of, very well-documented, and designed typing challenges. Each challenge provides you a definition of it in a <code>README.md</code> file, a <code>test-cases.ts</code> file with the tests the type you should define should pass, and finally the file <code>template.ts</code> where you should do your job creating the type necessary to meet the requirements and to pass all the tests.</p><p>I recommend you to start with the easy ones, without pressure, try to solve them using the Typescript&rsquo;s documentation (which is very good), and if finally, you can&rsquo;t solve it, or you don&rsquo;t want to spend too much time on an exercise check the community solutions, but then spend all the time you need to understand the solution and the background concepts, I&rsquo;m pretty sure you will learn along the way.</p><p>For me, it was a lesson of humility, before this challenge I thought I knew Typescript typing, but after that, I know still need to learn about Typescript üòÖ</p><p>‚û°Ô∏è The user <a href=https://github.com/ghaiklor>Eugene Obrezkov</a> is doing this challenge and documenting the <a href=https://ghaiklor.github.io/type-challenges-solutions/en/>solutions</a> he did, explaining them. Very recommended</p><h3 id=example>Example</h3><p>Implement the built-in <code>Readonly&lt;T></code> generic without using it. From: <a href=https://github.com/type-challenges/type-challenges/blob/main/questions/00007-easy-readonly/README.md>https://github.com/type-challenges/type-challenges/blob/main/questions/00007-easy-readonly/README.md</a></p><p>My solution to this challenge, ‚ö†Ô∏è SPOILER ALERT ‚ö†Ô∏è is</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>MyReadonly</span>&lt;<span style=color:#f92672>T</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>readonly</span> [<span style=color:#a6e22e>K</span> <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>keyof</span> <span style=color:#a6e22e>T</span>]<span style=color:#f92672>:</span> <span style=color:#a6e22e>T</span>[<span style=color:#a6e22e>K</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The explanation is that we are creating the type <code>MyReadonly</code> that receives a generic type <code>T</code> and this type is an object whose keys are if <code>K</code> (not of type K, the K value) which is a value that is one of the keys of the generic type <code>T</code>, for this key we are setting is read-only, and for the type of that key, we are getting the type of the key (<code>K</code>) in the generic type.</p><p>This simple solution requires knowledge about <a href=https://www.typescriptlang.org/docs/handbook/2/keyof-types.html>keyof type operator</a>, <a href=https://www.typescriptlang.org/docs/handbook/2/mapped-types.html>mapped types</a>, <a href=https://www.typescriptlang.org/docs/handbook/2/mapped-types.html#mapping-modifiers>mapping modifiers</a>, etc&mldr; So it&rsquo;s quite useful to improve your typing skills using real challenges.</p><h2 id=hardcode-typing>Hardcode typing</h2><p>The previous example is simple, it&rsquo;s more complex than the typical types you can use in the day-to-day but still simple.
When you continue advancing in the exercises they became more and more complex, and they will require all your knowledge about how the types work in Typescript, that is what I call <em>hardcore typing</em>, squeezing the type system at the maximum to get the results you want. It&rsquo;s worth it to try this challenges get a strong typing knowledge and how to apply them in the real world.</p><h1 id=type-utilities>Type utilities</h1><p>If you check the challenges&rsquo; code, especially the tests, you will find lines like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>cases</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>Expect</span>&lt;<span style=color:#f92672>Equal</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>MyReadonly</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>Todo1</span>&gt;, <span style=color:#a6e22e>Readonly</span>&lt;<span style=color:#f92672>Todo1</span>&gt;<span style=color:#f92672>&gt;&gt;</span>]
</span></span></code></pre></div><p>This is one of the nice things about the Type Challenge, is the type utilities they use, for example <code>Expect&lt;T></code> and <code>Equal&lt;X, Y></code></p><p><code>Expect</code> is simple, only check the type is true (technically speaking if extends <code>true</code>,). but help us to do other validation of type.
<code>Equal</code> checks if two types are the same type, the type definition is not as simple as you can expect</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Equal</span>&lt;<span style=color:#f92672>X</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>Y</span>&gt; <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  (&lt;<span style=color:#f92672>T</span>&gt;() <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>T</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>X</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>1</span> : <span style=color:#66d9ef>2</span>) <span style=color:#66d9ef>extends</span>
</span></span><span style=display:flex><span>  (&lt;<span style=color:#f92672>T</span>&gt;() <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>T</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>Y</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>1</span> : <span style=color:#66d9ef>2</span>) <span style=color:#f92672>?</span> <span style=color:#66d9ef>true</span> <span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>
</span></span></code></pre></div><p>I could try to explain the internals, but <a href=https://stackoverflow.com/a/68963796/4925419>this answer in stackoverflow</a> does it much better than I could.</p><p>These kinds of types are useful to complement your application types, this is the reason why there are libraries that provide them, also Type Challenge released its own types utilities as a package <a href=https://www.npmjs.com/package/@type-challenges/utils>https://www.npmjs.com/package/@type-challenges/utils</a></p><p>Let&rsquo;s see a couple of them</p><h2 id=ts-toolbelt>TS Toolbelt</h2><p><a href=https://github.com/millsp/ts-toolbelt>https://github.com/millsp/ts-toolbelt</a></p><p>It&rsquo;s a collection of more than 200+ type utilities, they describe themselves as the <em>lodash</em> of the type system. It abstracts the complex type checks.</p><h2 id=utility-types>Utility types</h2><p><a href=https://github.com/piotrwitek/utility-types>https://github.com/piotrwitek/utility-types</a></p><p>Another type&rsquo;s library that describes itself again as the <em>lodash</em> of types üòÑ. it&rsquo;s not big as TS Toolbelt but includes commonly used types. For example <code>DeepPartial</code> works like the native <code>Partial</code> but does it recursively.</p><p>This library provides also &ldquo;real&rdquo; type guards, I mean functions that do type narrowing and validates a variable on runtime.</p><h1 id=other-type-challenge>Other type-challenge</h1><p>To finalize I want to share one more type challenge just in case you want to challenge your typescript typing skills: <a href=https://js.checkio.org/>https://js.checkio.org/</a></p></div></div><aside class=post__nav-wrapper><div class=wrapper-1200><div class="post-nav post-nav--prev"><a class=post-nav__link href="https://sergiocarracedo.es/tech-roles-in-the-frontend/?ref=footer"><div class=post-nav__cover><img alt=.NextPage.Title src=/tech-roles-in-the-frontend/pexels-pixabay-207896_hu3d03a01dcc18bc5be0e67db3d8d209a6_1798897_200x120_fill_q75_box_center.jpg></div><div class=post-nav__title>Frontend team roles and skills, breaking the...</div></a></div><div class=blog-link><a class=btn href=https://sergiocarracedo.es/blog>All Blog posts</a></div><div class="post-nav post-nav--next"><a class=post-nav__link href="https://sergiocarracedo.es/using-charts-frontend-echarts-with-examples/?ref=footer"><div class=post-nav__cover><img alt=.PrevPage.Title class=post-nav__cover src=/using-charts-frontend-echarts-with-examples/pexels-lukas-590022_hue3e183c5fa902cd4ae789f3e908b1fee_166549_200x120_fill_q75_box_center.jpg></div><div class=post-nav__title>Using charts in the frontend: Echarts with...</div></a></div></div></aside><aside class=post__comments><div class=wrapper-1200><div id=disqus_thread>To show the comments is mandatory accept cookie policy.</div></div></aside></article></div><footer class=web-footer><div class=wrapper-1200><div class=web-footer__left><div class=me><div class=me__avatar><img alt="Sergio Carracedo" src=/i/sergiocarracedo_hu6caa808ff324b89bfea4b9d7d1c850ee_80590_170x170_fit_q75_box.jpg></div><div class=me__titles><h1>Sergio Carracedo</h1><h2>Senior Fullstack developer.</h2><h3>Formula 1, cats, good conversations and small details lover.</h3></div></div></div><div class=web-footer__right><nav role=main class=menu><ul><li class=menu__item><a href=https://sergiocarracedo.es/>Home</a></li><li class=menu__item><a href=https://sergiocarracedo.es/blog>Blog</a></li></ul></nav><div class=social><a class=social__link href=http://www.linkedin.com/in/sergiocarracedo target=_blank title=LinkedIn style=animation-delay:2s><i class="fab fa-linkedin"></i></a>
<a class=social__link href=mailto:hi+blog@sergiocarracedo.es target=_blank title=Email style=animation-delay:1.9333333333333333s><i class="fas fa-envelope"></i></a>
<a class=social__link href=https://github.com/sergiocarracedo target=_blank title=GitHub style=animation-delay:1.8666666666666667s><i class="fab fa-github"></i></a>
<a class=social__link href=https://www.drupal.org/u/sergiocarracedo target=_blank title=Drupal style=animation-delay:1.8s><i class="fab fa-drupal"></i></a>
<a class=social__link href=https://www.twitter.com/sergiocarracedo target=_blank title=Twitter style=animation-delay:1.7333333333333334s><i class="fab fa-twitter"></i></a>
<a class=social__link href=http://www.last.fm/user/gasman40 target=_blank title=Last.fm style=animation-delay:1.6666666666666667s><i class="fab fa-lastfm"></i></a>
<a class=social__link href=http://sergiocarracedo.tumblr.com/ target=_blank title=Tumblr style=animation-delay:1.6s><i class="fab fa-tumblr"></i></a></div></div></div></footer><script async src="https://www.googletagmanager.com/gtag/js?id=UA-133459072-1"></script>
<script>function runGA(){window.dataLayer=window.dataLayer||[];function e(){dataLayer.push(arguments)}e("js",new Date),e("config","UA-133459072-1")}</script><script>function runDisqus(){(function(){var e=document,t=e.createElement("script");t.src="https://sergiocarracedo.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()}</script><script src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js></script>
<script>window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#004262",text:"#fff"},button:{background:"#8ec760",text:"#ffffff"}},type:"opt-out",content:{message:"Este sitio usa cookies propias y de terceros para mejorar la experiencia de usuario y esas cosas.",allow:"Ok, continua",deny:"Nada de cookies",link:"Saber m√°s",href:"https://sergiocarracedo.es/cookies"},onStatusChange:function(e){e=="allow"&&runCookiesAllowed()},onInitialise:function(e){e=="allow"&&runCookiesAllowed()}})})</script><script>addEventListener("scroll",e=>{let t=document.getElementsByTagName("body")[0];t&&window.scrollY>10?t.classList.add("not-in-top"):t.classList.remove("not-in-top")});function runCookiesAllowed(){runGA(),runDisqus()}</script><script integrity="sha256-6W09eoRhk1Og2XFEl4eaBSED33MOr8P1V5qaL3z+PEY=" src=https://sergiocarracedo.es/js/theme.e96d3d7a84619353a0d9714497879a052103df730eafc3f5579a9a2f7cfe3c46.js></script></body></html>