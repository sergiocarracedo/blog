<!doctype html><html><head><meta charset=UTF-8><meta content="IE=edge,chrome=1" http-equiv=X-UA-Compatible><meta content="width=device-width,minimum-scale=1" name=viewport><title>Sergio Carracedo | Using charts in the frontend: Echarts with examples</title>
<meta content="yes" name=apple-mobile-web-app-capable><meta content="black-translucent" name=apple-mobile-web-app-status-bar-style><meta content="Sergio Carracedo's personal page and blog" name=description><meta content="Sergio Carracedo" name=author><link href=/favicon.png rel=icon><meta property="og:title" content="Using charts in the frontend: Echarts with examples"><meta property="og:description" content="If you are working in frontend and in data visualization one of the tasks you need to solve is to represent data in different ways (charts) and there are multiple ways of resolving it:
Do it from the scratch, with js and css, svg, canvas, etc Using a low-level library that abstracts for you things like dom manipulation, scales, etc, d3.js is a very good one: I wrote a blog post about it Using chart libraries Let&rsquo;s see some pros and cons of the different approaches there is no perfect solution, depends on your needs."><meta property="og:type" content="article"><meta property="og:url" content="https://sergiocarracedo.es/using-charts-frontend-echarts-with-examples/"><meta property="og:image" content="https://sergiocarracedo.es/using-charts-frontend-echarts-with-examples/pexels-lukas-590022_hue3e183c5fa902cd4ae789f3e908b1fee_166549_1920x1080_fill_q75_box_center.jpg"><meta name=twitter:image content="https://sergiocarracedo.es/using-charts-frontend-echarts-with-examples/pexels-lukas-590022_hue3e183c5fa902cd4ae789f3e908b1fee_166549_1920x1080_fill_q75_box_center.jpg"></meta><meta property="article:section" content="blog">
<meta property="article:published_time" content="2022-11-22T00:00:00+00:00"><meta property="article:modified_time" content="2022-11-22T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"></meta>
<link rel=canonical href=https://sergiocarracedo.es/using-charts-frontend-echarts-with-examples/><link href=https://sergiocarracedo.es/scss/main.df9c25ee4c710877f41c3c839cb8b49ab42cafd33e26da951f93e602ac49fcf6.css integrity="sha256-35wl7kxxCHf0HDyDnLi0mrQsr9M+JtqVH5PmAqxJ/PY=" rel=stylesheet><link href=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css rel=stylesheet type=text/css></head><body><header class=web-header><h2><a class=back-to-home href=/ title="Back to home"><i class="fas fa-home"></i><div class=back-to-home__content><span class=back-to-home__action>Back to home</span><div class=back-to-home__title><img alt="Sergio Carracedo" class=avatar src=/i/sergiocarracedo_hu6caa808ff324b89bfea4b9d7d1c850ee_80590_100x100_fit_q75_box.jpg><h4>Sergio Carracedo</h4></div></div></a></h2><div class=web-header__page-title><span>Using charts in the frontend: Echarts with examples</span></div><div class=theme-switch><i class="theme-switch__theme fas fa-sun" id=theme-switch-light title="Switch to light theme"></i>
<i class="theme-switch__theme fas fa-moon" id=theme-switch-dark title="Switch to dark theme"></i></div></header><div class=main-content><article class="post post--single"><div class="post__main wrapper-1200"><aside class=post__metadata><time class=post__date datetime=2022-11-22><i class="far fa-calendar-alt"></i> Nov 22, 2022</time><div class=post__tags><a href=https://sergiocarracedo.es/tags/data%20visualization class=post__tag><span>data visualization</span></a></div><span class=post__reading-time><i class="far fa-clock"></i> 7 minutes read</span></aside><header class=post__header><h1 class=post__title>Using charts in the frontend: Echarts with examples</h1></header><figure class=post__cover><img src=/using-charts-frontend-echarts-with-examples/pexels-lukas-590022_hue3e183c5fa902cd4ae789f3e908b1fee_166549_1200x400_fill_q75_box_center.jpg alt="Using charts in the frontend: Echarts with examples" width=1200 height=400></figure><div class=post__content><p>If you are working in frontend and in data visualization one of the tasks you need to solve is to represent data in
different ways (charts) and there are multiple ways of resolving it:</p><ul><li>Do it from the scratch, with js and css, svg, canvas, etc</li><li>Using a low-level library that abstracts for you things like dom manipulation, scales, etc, <a href=https://d3js.org/>d3.js</a> is a very good one: I wrote a <a href=https://sergiocarracedo.es/understanding-d3-js-introduction/>blog post about it</a></li><li>Using chart libraries</li></ul><p>Let&rsquo;s see some pros and cons of the different approaches there is no perfect solution, depends on your needs.</p><table><thead><tr><th></th><th>From the scratch</th><th>d3.js</th><th>Charts library</th></tr></thead><tbody><tr><td><strong>Customization effort</strong></td><td>Low</td><td>Mid</td><td>Depends on the library (High)</td></tr><tr><td><strong>Team experience required</strong></td><td>Higher</td><td>High</td><td>Low</td></tr><tr><td><strong>Experience required</strong></td><td>Higher</td><td>High</td><td>Low</td></tr><tr><td><strong>Out-of-the-box features</strong></td><td>None</td><td>Axis, data transformations, draw svg/canvas management</td><td>Full charts</td></tr><tr><td><strong>Time to production</strong></td><td>High</td><td>High</td><td>Low</td></tr></tbody></table><h1 id=the-charts-library-way>The charts&rsquo; library way</h1><p>Using a charts library to generate data visualizations could look like a simple way to solve the task, but is not, it depends on your requirements and how much you need to customize the chart if your requirements in visual style and behavior are simple any library can work, but the thing can get complicated when you need to customize them.</p><p>Throughout my career, I explored all those ways and a lot of different charts libraries: amCharts, chart.js, highcharts.js, etc&mldr; and to meet the requirements we had I started to create and use custom chart components based on d3.js, but I discovered <a href=https://echarts.apache.org/en/index.html>ECharts</a></p><h1 id=echarts>ECharts</h1><p>ECharts is an opensource Javascript (and Typescript) visualization library written in pure javascript and based on <a href=https://github.com/ecomfe/zrender>zrender</a> incubated under the Apache Software Foundation (ASF) and created originally by Baidu (that is the reason why you will found a lot of Chinese entries looking for ECharts, but you shouldn&rsquo;t worry about it, there is a lot of documentation in English too).</p><p>This library allows you to create a lot of different and customizable charts (series types, as we will see later), you only need to visit the <a href=https://echarts.apache.org/examples/en/index.html>examples page</a> to see it, from a simple line chart to a 3D globe with flight lines, including bars, donut, boxplot, candlestick, map, scatter, heatmap, tree, treemap, sunburts, parallel, sankey, funnel, gauge, themeriver, calendar, and completely custom charts.</p><iframe frameborder=0 marginheight=0 marginwidth=0 width=100% height=500 type=text/html src="https://echarts.apache.org/examples/en/editor.html?c=lines3d-flights&amp;gl=1"></iframe><p>Probably you find the chart you need to meet your requirements with the available charts out-of-the-box, but in any case, you can go deep into the documentation and start to customize your chart visualizations.</p><h2 id=what-makes-echarts-different>What makes ECharts different</h2><p>Working with other libraries you can customize things but far as the customization level of ECharts.
You have literally <a href=https://echarts.apache.org/en/option.html>thousands of params to customize it</a>, anything you want to configure exists in the config.</p><p>This configuration is a plain js object and includes all, the chart data, the chart definition, the chart visual configuration, and the chart behavior configuration.</p><p>My first thought was having a JS API it&rsquo;s better to customize the charts, but believe me, just using this big object you can do customization and fine-tuning.</p><p>Another fully customizable thing is the theme, you can use <a href=https://echarts.apache.org/en/download-theme.html>pre-build themes</a> or <a href=https://echarts.apache.org/en/theme-builder.html>create a new one</a> customizing every aspect of the charts. For example, you can customize the default series&rsquo;s colors for all charts without the need to set them in every chart</p><p>As I mentioned before, all the configs are js&rsquo; plain objects, so you can store this data as JSON and then import as an <code>Object</code> and use <code>Object.assign</code> to set default shallow values, or lodash defaults (<code>_.defaults</code>)
` for example to set the defaults for the tooltip</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>echartsDefaults</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tooltip</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>show</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>, <span style=color:#a6e22e>trigger</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;axis&#39;</span>, <span style=color:#a6e22e>position</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;50%&#39;</span>, <span style=color:#e6db74>&#39;50%&#39;</span>] },
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>xAxis</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>itemStyle</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>color</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;#f00&#39;</span> } }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>chart</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>echarts</span>.<span style=color:#a6e22e>init</span>(document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#34;app&#34;</span>));
</span></span><span style=display:flex><span><span style=color:#a6e22e>chart</span>.<span style=color:#a6e22e>setOption</span>(<span style=color:#a6e22e>_</span>.<span style=color:#a6e22e>defaults</span>(
</span></span><span style=display:flex><span>  { <span style=color:#a6e22e>tooltip</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>trigger</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;item&#39;</span> },
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>xAxis</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;category&#34;</span>, <span style=color:#a6e22e>data</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#34;Mon&#34;</span>, <span style=color:#e6db74>&#34;Tue&#34;</span>, <span style=color:#e6db74>&#34;Wed&#34;</span>, <span style=color:#e6db74>&#34;Thu&#34;</span>, <span style=color:#e6db74>&#34;Fri&#34;</span>, <span style=color:#e6db74>&#34;Sat&#34;</span>, <span style=color:#e6db74>&#34;Sun&#34;</span>] }
</span></span><span style=display:flex><span>}, <span style=color:#a6e22e>echartsDefaults</span>))
</span></span><span style=display:flex><span><span style=color:#75715e>// The actual options
</span></span></span><span style=display:flex><span><span style=color:#75715e>// { 
</span></span></span><span style=display:flex><span><span style=color:#75715e>//   tooltip: { show: true, trigger: &#39;item&#39;, position: [&#39;50%&#39;, &#39;50%&#39;] },
</span></span></span><span style=display:flex><span><span style=color:#75715e>//   xAxis: { itemStyle: { color: &#39;#f00&#39; }, type: &#34;category&#34;, data: [&#34;Mon&#34;, &#34;Tue&#34;, &#34;Wed&#34;, &#34;Thu&#34;, &#34;Fri&#34;, &#34;Sat&#34;, &#34;Sun&#34;] }
</span></span></span><span style=display:flex><span><span style=color:#75715e>// }
</span></span></span></code></pre></div><h3 id=canvas-vs-svg>Canvas vs SVG</h3><p>One of the most common questions, when you start to develop a chart solution is if use SVG or Canvas.</p><p><strong>SVG</strong> defines the visual representation as a document, exactly the same as HTML defines a page as a document, the events work similarly as in HTML, and the visualization of the elements can be modified using simple CSS. SVG also it&rsquo;s better in terms of accessibility. <strong>It&rsquo;s a vectorial representation</strong>, so the charts will look nice in any resolution, and in any SVG object change the browser will take care of the redraw.</p><p><strong>Canvas it&rsquo;s a pixel-oriented (bitmap)</strong> way to represent drawings (SVG can also include bitmap), basically after drawing a pixel the browser stop taking care of the object you drew and only stores the pixels. This makes you need to care of the redraw if something changes.</p><blockquote><p>Canvas gives better performance on small surfaces or large numbers of objects to draw and SVG is better for large surfaces and small numbers of objects.</p></blockquote><p>ECharts uses ZRender a library that abstracts the 2D draw exposing the same API to render <strong>canvas</strong> or <strong>SVG</strong>. <strong>This allows you to decide which renderer to use</strong> but without do extra changes in your chart, it&rsquo;s just a flag.</p><p>As a general rule canvas is recommended for large datasets (>1000 items), and SVG in low-end Android or specific charts. More info at <a href=https://apache.github.io/echarts-handbook/en/best-practices/canvas-vs-svg/>https://apache.github.io/echarts-handbook/en/best-practices/canvas-vs-svg/</a></p><p>This feature makes ECharts very different from other chart solution as they use SVG or Canvas, but you can&rsquo;t decide (d3.js also allows you to decide the renderer) the render, you should do the render in the system the charts library uses.</p><h2 id=basic-example>Basic example</h2><p>Let&rsquo;s do a simple example, a bar chart
<iframe frameborder=0 marginheight=0 marginwidth=0 width=100% height=400 type=text/html src="https://codesandbox.io/embed/practical-christian-lm8dmx?fontsize=14&amp;view=preview&amp;hidenavigation=1&amp;module=%2Fsrc%2Fexample_1.js&amp;theme=dark"></iframe></p><p>You can compare how to create a similar chart in d3.js <a href=https://d3-graph-gallery.com/graph/barplot_basic.html>here</a></p><p>The amount of code is higher even for the basic case, and the d3.js version doesn&rsquo;t include the tooltip and the gradients</p><p>Creating a chart is simple (check the code) as fill a js plain object, maybe you would need time to find the property you need to use, but basically, we define the xAxis, yAxis, the series (the values), the series type, and the style of those elements in the same object.</p><h2 id=multiple-series-example>Multiple series example</h2><p>The representation type (chart) type is defined by the series, so we can mix different visualization types in the same chart.
Let&rsquo;s see an example.</p><iframe frameborder=0 marginheight=0 marginwidth=0 width=100% height=400 type=text/html src="https://codesandbox.io/embed/echarts-examples-lm8dmx?fontsize=14&amp;view=preview&amp;hidenavigation=1&amp;initialpath=%2Fexample_2.html&amp;module=%2Fsrc%2Fexample_2.js&amp;theme=dark"></iframe><p>Series could share the axis, but in the example, we added a new axis with a different scale and units.</p><h3 id=animations-example>Animations example</h3><p>ECharts gives you the possibility of transforming a series type into another using animation, it&rsquo;s easy as changing the Echart&rsquo;s options object and ECharts will do the animation for you</p><iframe frameborder=0 marginheight=0 marginwidth=0 width=100% height=400 type=text/html src="https://codesandbox.io/embed/echarts-examples-lm8dmx?fontsize=14&amp;view=preview&amp;hidenavigation=1&amp;initialpath=%2Fexample_3.html&amp;module=%2Fsrc%2Fexample_3.js&amp;theme=dark"></iframe><h2 id=custom-series>Custom series</h2><p>Besides the series types I mentioned before (there are a lot), you can use the custom series type and <a href=https://echarts.apache.org/en/option.html#series-custom>using a function</a> you can define programmatically how each render should be rendered. This feature gives you more control over the representation.</p><p>And even, if you really need it you can write a plugin type to create a new series type for a custom data representation, for example, a word cloud viualization: <a href=https://github.com/ecomfe/echarts-wordcloud>https://github.com/ecomfe/echarts-wordcloud</a></p><p>But in most cases you don&rsquo;t need to go into deep and create a custom series type or use a custom one, you can use multiple series to achieve the result you want. For example, this line chart with confidence band uses a line type and area type stacking the series</p><iframe frameborder=0 marginheight=0 marginwidth=0 width=100% height=400 type=text/html src="https://echarts.apache.org/examples/en/editor.html?c=confidence-band"></iframe><p>Using other features like <code>visualMap</code> you can set different colors on different series parts.</p><iframe frameborder=0 marginheight=0 marginwidth=0 width=100% height=400 type=text/html src="https://echarts.apache.org/examples/en/editor.html?c=line-sections"></iframe><h2 id=vue-react-angular>Vue, React, Angular</h2><p>You can use ECharts with your favorite js framework, there are wrappers available, and they take care of the data responsibility, and of resizing the chart on window width change.</p><ul><li>Vue: <a href=https://vue-echarts.dev/>https://vue-echarts.dev/</a></li><li>React: <a href=https://git.hust.cc/echarts-for-react/>https://git.hust.cc/echarts-for-react/</a></li><li>Angular: <a href=https://xieziyu.github.io/ngx-echarts>https://xieziyu.github.io/ngx-echarts</a></li></ul><h2 id=summary>Summary</h2><p>ECharts is an amazing charts library that allows you to customize it in a lot of different ways, and that probably solves your requirements without writing code, just using customization options.</p><p>There are a lot of features I didn&rsquo;t mention but are very interesting, I&rsquo;ll do it in another post.</p><p>I invite you to try it and experiment a bit, soon you will realize you can do almost anything just using options, without coding any line.</p><blockquote><p>If you like this post and you are interested in ECharts, let me know with a comment or a tweet and I will write more posts with other use cases.</p></blockquote></div></div><aside class=post__nav-wrapper><div class=wrapper-1200><div class="post-nav post-nav--prev"><a class=post-nav__link href="https://sergiocarracedo.es/typescript-typing-challenges-and-type-utilities/?ref=footer"><div class=post-nav__cover><img alt=.NextPage.Title src=/typescript-typing-challenges-and-type-utilities/pexels-david-buchi-1070345_hue3e183c5fa902cd4ae789f3e908b1fee_355537_200x120_fill_q75_box_center.jpg></div><div class=post-nav__title>Typescript typing challenges and type utilities</div></a></div><div class=blog-link><a class=btn href=https://sergiocarracedo.es/blog>All Blog posts</a></div><div class="post-nav post-nav--next"><a class=post-nav__link href="https://sergiocarracedo.es/typescript-type-narrowing/?ref=footer"><div class=post-nav__cover><img alt=.PrevPage.Title class=post-nav__cover src=/typescript-type-narrowing/jakob-braun-HTGrBFwlYLA-unsplash_hue3e183c5fa902cd4ae789f3e908b1fee_115550_200x120_fill_q75_box_center.jpg></div><div class=post-nav__title>Typescript type narrowing, type guards and type...</div></a></div></div></aside><aside class=post__search-wrapper><div class=wrapper-1200>Search in this blog:<form class=search-form action=https://sergiocarracedo.es/search method=get><label hidden for=search-input>Search</label>
<input type=text id=search-input name=query placeholder=Search class=search-form__input>
<button class=search-form__button>
<i class="fas fa-search"></i></button></form></div></aside><aside class=post__comments><div class=wrapper-1200><div id=disqus_thread>To show the comments is mandatory accept cookie policy.</div></div></aside></article></div><footer class=web-footer><div class=wrapper-1200><div class=web-footer__left><div class=me><div class=me__avatar><img alt="Sergio Carracedo" src=/i/sergiocarracedo_hu6caa808ff324b89bfea4b9d7d1c850ee_80590_170x170_fit_q75_box.jpg></div><div class=me__titles><h1>Sergio Carracedo</h1><h2>Senior Fullstack developer.</h2><h3>Always learning, cats, good conversations and small details lover.</h3></div></div></div><div class=web-footer__right><nav role=main class=menu><ul><li class=menu__item><a href=https://sergiocarracedo.es/>Home</a></li><li class=menu__item><a href=https://sergiocarracedo.es/blog>Blog</a></li></ul></nav><div class=social><a class=social__link href=http://www.linkedin.com/in/sergiocarracedo target=_blank title=LinkedIn style=animation-delay:2s><i class="fab fa-linkedin"></i>
</a><a class=social__link href=mailto:hi+blog@sergiocarracedo.es target=_blank title=Email style=animation-delay:1.9333333333333333s><i class="fas fa-envelope"></i>
</a><a class=social__link href=https://github.com/sergiocarracedo target=_blank title=GitHub style=animation-delay:1.8666666666666667s><i class="fab fa-github"></i>
</a><a class=social__link href=https://www.drupal.org/u/sergiocarracedo target=_blank title=Drupal style=animation-delay:1.8s><i class="fab fa-drupal"></i>
</a><a class=social__link href=https://www.twitter.com/sergiocarracedo target=_blank title=Twitter style=animation-delay:1.7333333333333334s><i class="fab fa-twitter"></i>
</a><a class=social__link href=http://www.last.fm/user/gasman40 target=_blank title=Last.fm style=animation-delay:1.6666666666666667s><i class="fab fa-lastfm"></i>
</a><a class=social__link href=http://sergiocarracedo.tumblr.com/ target=_blank title=Tumblr style=animation-delay:1.6s><i class="fab fa-tumblr"></i></a></div></div></div></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-87X78TXEGE"></script><script>function runGA(){window.dataLayer=window.dataLayer||[];function e(){dataLayer.push(arguments)}e("js",new Date),e("config","G-87X78TXEGE")}</script><script>function runDisqus(){(function(){var e=document,t=e.createElement("script");t.src="https://sergiocarracedo.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()}</script><script src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js></script><script>window.addEventListener("load",function(){window.cookieconsent.initialise({palette:{popup:{background:"#004262",text:"#fff"},button:{background:"#8ec760",text:"#ffffff"}},type:"opt-out",content:{message:"Este sitio usa cookies propias y de terceros para mejorar la experiencia de usuario y esas cosas.",allow:"Ok, continua",deny:"Nada de cookies",link:"Saber más",href:"https://sergiocarracedo.es/cookies"},onStatusChange:function(e){e=="allow"&&runCookiesAllowed()},onInitialise:function(e){e=="allow"&&runCookiesAllowed()}})})</script><script>addEventListener("scroll",e=>{let t=document.getElementsByTagName("body")[0];t&&window.scrollY>10?t.classList.add("not-in-top"):t.classList.remove("not-in-top")});function runCookiesAllowed(){runGA(),runDisqus()}</script><script integrity="sha256-iiQa3rTjie3Ydsr4WEu2+aLDTaxKKVR3ZTwTYrRUjXs=" src=https://sergiocarracedo.es/js/theme.8a241adeb4e389edd876caf8584bb6f9a2c34dac4a295477653c1362b4548d7b.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script integrity="sha256-LVPRt2Ca+MpOY1KztdII4jRv+U0kJBcBZEvwhZr2a4Y=" src=https://sergiocarracedo.es/js/search.2d53d1b7609af8ca4e6352b3b5d208e2346ff94d24241701644bf0859af66b86.js></script></body></html>