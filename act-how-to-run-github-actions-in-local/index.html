
<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sergio Carracedo - How to run GitHub Actions in local with Act</title>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="keywords" content="Sergio Carracedo,"> 
    <meta name="description" content="Sergio Carracedo personal Blog,GitHub Actions is a powerful tool, you can run tests, build your app, deploy it, even mining bitcoi,"> 
    <meta name="author" content="Sergio Carracedo"> 
    <link rel="alternative" href="atom.xml" title="Sergio Carracedo" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
<link rel="stylesheet" href="/css/sergiocarracedo.css">

    <meta name="description" content="GitHub Actions is a powerful tool, you can run tests, build your app, deploy it, even mining bitcoins üòî When you are creating an action or workflow in GitHub Actions, it is very common the needing of">
<meta property="og:type" content="article">
<meta property="og:title" content="How to run GitHub Actions in local with Act">
<meta property="og:url" content="https://sergiocarracedo.es/act-how-to-run-github-actions-in-local/index.html">
<meta property="og:site_name" content="Sergio Carracedo">
<meta property="og:description" content="GitHub Actions is a powerful tool, you can run tests, build your app, deploy it, even mining bitcoins üòî When you are creating an action or workflow in GitHub Actions, it is very common the needing of">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://sergiocarracedo.es/images/2021/act-jake-givens-iR8m2RRo-z4-unsplash.jpg">
<meta property="article:published_time" content="2021-06-14T00:00:00.000Z">
<meta property="article:modified_time" content="2021-10-18T06:44:54.354Z">
<meta property="article:author" content="Sergio Carracedo">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://sergiocarracedo.es/images/2021/act-jake-givens-iR8m2RRo-z4-unsplash.jpg">

    <script async src='https://www.google-analytics.com/analytics.js'></script>

    <script>
      function runGA() {
        window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
        ga('create', 'UA-133459072-1', 'auto');
        ga('send', 'pageview');
      }

      function runDisqus() {
        /*var disqus_config = function () {
          this.page.url = 'https://sergiocarracedo.es/';
          this.page.identifier = 'sergiocarracedo';
        }*/
        (function() { // DON'T EDIT BELOW THIS LINE
          var d = document, s = d.createElement('script');
          s.src = 'https://sergiocarracedo.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      }

      function runCookiesAllowed() {
        runGA();
        runDisqus();
      }
    </script>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>

<body>
    <div id="single">
    <div id="top">
  <div class="bar" style="width: 0;"></div>
  <div class="container-fluid">
    <div class="grid-row">
      <div class="col-xs-12 col-sm-3">
        <a class="back-to-home" href="/">
          <img src="/img/sergiocarracedo.jpg" alt="Sergio Carracedo" class="image-logo"/>
          <h4>
            Sergio Carracedo
          </h4>
        </a>
      </div>
      <div class="hidden-xs hidden-lxs col-sm-6">
        <h3 class="subtitle">How to run GitHub Actions in local with Act</h3>
      </div>
    </div>
  </div>
  <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article container-fluid-1200">
  <div class="grid-row">
    <div class="main col-xs-12">
      <h1 class="title">
        How to run GitHub Actions in local with Act
      </h1>
      <div class="stuff">
        <span>June 14, 2021</span>
      </div>

      
      <div class="article-image">
        <img src="/images/2021/header_act-jake-givens-iR8m2RRo-z4-unsplash.jpg" width="1200" height="400">
      </div>
      
      <div class="content markdown">
        <p>GitHub Actions is a powerful tool, you can run tests, build your app, deploy it, even <a target="_blank" rel="noopener" href="https://github.blog/2021-04-22-github-actions-update-helping-maintainers-combat-bad-actors/">mining bitcoins</a> <span class="github-emoji"><span>üòî</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f614.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<p>When you are creating an action or workflow in GitHub Actions, it is very common the needing of test it, check if all works as you need and if something is not correct, fix it, in other works as other software GitHub Actions need to be iterated.</p>
<p>Doing it in GitHub have disadvantages:</p>
<ul>
<li>Waste running time: even if you are using a free plan you have a 2000 minutes per month limit</li>
<li>Fill your repository history with ‚Äútrash‚Äù commit: As the action definition is in the repo, every change is a new commit, if you are testing something that is very common to fill your repo history with the commits of every change. You can <a target="_blank" rel="noopener" href="https://www.internalpointers.com/post/squash-commits-into-one-git">squash these commits</a> into one, but is an extra step</li>
<li>Is slow</li>
</ul>
<h1 id="ACT"><a href="#ACT" class="headerlink" title="ACT"></a>ACT</h1><p><a target="_blank" rel="noopener" href="https://github.com/nektos/act">ACT</a> comes to help us, this tool allows us to run GitHub Actions on our local computer.</p>
<p>It creates an environment equal to GitHub provides, uses Docker images to run the actions, the environment variables and filesystem are all configured to match what GitHub provides.</p>
<h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><p>Act is available for Linux, Windows and MacOS, the installation instructions (and dependencies) depend on your OS, I‚Äôm going to focus on Ubuntu, but you can check the <a target="_blank" rel="noopener" href="https://github.com/nektos/act#installation">official docs</a> to know how to install in your OS.</p>
<p>In Ubuntu, you need Go 1.16+ as a dependency and run</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go install github.com/nektos/act@latest</span><br></pre></td></tr></tbody></table></figure>
<p>Is very useful to add the Go bin path to your PATH<br>For example, if you are using <strong>zsh</strong> as shell</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"export PATH=<span class="variable">$PATH</span>;~/go/bin/"</span> &gt;&gt; ~/.zshrc</span><br></pre></td></tr></tbody></table></figure>

<h2 id="Running-your-action"><a href="#Running-your-action" class="headerlink" title="Running your action"></a>Running your action</h2><p>Running an action on your computer is simple as go to your repo root folder and run:</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">act</span><br></pre></td></tr></tbody></table></figure>

<p>In the first run, Act will ask you to choose the default image to run the action. The image to choose depends on your action, but I recommend you to choose, the <em>medium image</em>, because the <em>micro</em> image for example can‚Äôt install Python</p>
<p>If your action needs ‚Äúsecrets‚Äù will fail. We must set the secrets and that is easy as pass an argument to <em>act</em></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">act -s GITHUB_TOKEN=&lt;your_token&gt; -s OTHER_SECRET=&lt;value&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>It‚Äôs important to bear in mind that GitHub always injects the <code>GITHUB_TOKEN</code> secret, but in our local environment, we must provide the value.<br>If your action needs this value (for example, after build, deploy to GHPages) you must provide it.<br>To create a token in GitHub you only need to navigate to <em>Settings &gt; Developer settings &gt; Personal access tokens</em> or just <a target="_blank" rel="noopener" href="https://github.com/settings/tokens">https://github.com/settings/tokens</a></p>
<h2 id="Dispatching-custom-events"><a href="#Dispatching-custom-events" class="headerlink" title="Dispatching custom events"></a>Dispatching custom events</h2><p>By default, act runs the ‚Äúon: push‚Äù configured action in your workflow file, but maybe you want to run another workflow depending on other triggers, and you can, only need to pass the event name as an argument</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">act pull_request</span><br><span class="line">act workflow_dispatch</span><br><span class="line">act release</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure>

<h2 id="Use-a-specific-workflow"><a href="#Use-a-specific-workflow" class="headerlink" title="Use a specific workflow"></a>Use a specific workflow</h2><p>Sometimes you have more than workflow files, usually, they don‚Äôt run on the same dispatcher, but anyway, you can set the workflow file to use.</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">act -W &lt;path to workflow file&gt;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="Listing-the-actions"><a href="#Listing-the-actions" class="headerlink" title="Listing the actions"></a>Listing the actions</h2><p>Running <code>act -l</code> or <code>act release -l</code> you can list the action that will run </p>
<h2 id="Draw-workflow"><a href="#Draw-workflow" class="headerlink" title="Draw workflow"></a>Draw workflow</h2><p>Sometimes can be interesting to see the action‚Äôs dependency tree, using the <code>-g</code> flag you will get an exit like that</p>
<p><img src="/images/2021/act_01.png" alt="Graph"></p>
<h2 id="Run-a-specific-job"><a href="#Run-a-specific-job" class="headerlink" title="Run a specific job"></a>Run a specific job</h2><p>If you want to test a specific job into the workflow you can pass the job name using <code>-j</code> argument, for example</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">act -j deploy </span><br></pre></td></tr></tbody></table></figure>

<p>There are more flags. You can check the full list <a target="_blank" rel="noopener" href="https://github.com/nektos/act#flags">here</a></p>
<h2 id="GitHub-Enterprise"><a href="#GitHub-Enterprise" class="headerlink" title="GitHub Enterprise"></a>GitHub Enterprise</h2><p>Act can login to private GitHub Enterprise servers as simple as add <code>--github-instance &lt;your-company-ghe-server&gt;</code> in the command</p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p><em>Act</em> it‚Äôs a wonderful tool to run GH Action in local when you are creating or iterating it, avoiding using the real repo to test it.<br>But <em>Act is</em> something more, you can also use it as a local task runner using all the power, and the actions in the GitHub Actions marketplace to create your local task, and this task can easily move to the cloud if you need it.</p>

      </div>
    </div>
  </div>
</div>

<div class="post-nav">
  <div class="container-fluid-1200">
    <div class="grid-row">
      <div class="next col-xs-6">
        
          <div class="nav-previous">
            <a href="https://sergiocarracedo.es//mis-streams-favoritos-de-twitch/" rel="prev" class="nav-cover">
              <img src="/images/2021/twitch/teaser_cover.jpg">
            </a>

            <a href="https://sergiocarracedo.es//mis-streams-favoritos-de-twitch/" rel="prev" class="nav-text">
              <i class="fa fa-arrow-left"></i> Soy casi un boomer y consumo Twitch: Mis streams favoritos
            </a>
          </div>
        
      </div>
      <div class="prev col-xs-6">
        
          <div class="nav-next">
            <a href="https://sergiocarracedo.es//vue-use-model-helpers/" rel="next" class="nav-cover">
              <img src="/images/2021/teaser_use-model-josh-riemer-OH5BRdggi2w-unsplash.jpg">
            </a>

            <a href="https://sergiocarracedo.es//vue-use-model-helpers/" rel="next" class="nav-text">
              Simplifying the use of custom a Vue v-model <i class="fa fa-arrow-right"></i>
            </a>
          </div>
        
      </div>
    </div>
  </div>
</div>

<div class="post-comments container-fluid-1200">
    <div id="disqus_thread">To show the comments is mandatory accept cookie policy.</div>
</div>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<div id="post-aboutme">
  <div class="me container-fluid">
    <div class="grid-row">
      <div class="col-xs-12 mb-5">
        <div class="social">
  <a href="mailto:info@sergiocarracedo.es" class="social-link" title="info@sergiocarracedo.es">
    <i class="fas fa-envelope"></i>
  </a>
  <a href="https://github.com/sergiocarracedo" class="social-link" target="_blank">
    <i class="fab fa-github"></i>
  </a>
  <a href="https://www.drupal.org/u/sergiocarracedo" class="social-link" target="_blank">
    <i class="fab fa-drupal"></i>
  </a>

  <a href="http://www.linkedin.com/in/sergiocarracedo" class="social-link" target="_blank">
    <i class="fab fa-linkedin"></i>
  </a>
  <a href="https://www.twitter.com/sergiocarracedo" class="social-link" target="_blank">
    <i class="fab fa-twitter"></i>
  </a>
  <a href="http://www.last.fm/user/gasman40" class="social-link" target="_blank">
    <i class="fab fa-lastfm"></i>
  </a>
  <a href="http://sergiocarracedo.tumblr.com/" class="social-link" target="_blank">
    <i class="fab fa-tumblr"></i>
  </a>
</div>

      </div>
    </div>
  </div>

  <div class="claim container-fluid-1440">
    <div class="grid-row">
      <div class="col-xs-12">
        <h3>Front-end and back-end developer.<br />#formula1, good conversations and small details lover.</h3>
      </div>
    </div>
  </div>

  <div class="container-fluid-1440">
    <div class="grid-row">
      <div class="col-xs-12">
        <a href="/" class="back">
          Home
        </a>
      </div>
    </div>
  </div>

</div>


    </div>


</div>

</body>
<script src="https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>


<script src="/js/jquery.min.js"></script>
<script src="/js/sergiocarracedo.js"></script>


<link href="https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css" rel="stylesheet">
<link href="https://cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css" rel="stylesheet">

<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
    <script>
      window.addEventListener("load", function(){
        window.cookieconsent.initialise({
          "palette": {
            "popup": {
              "background": "#004262",
              "text": "#fff"
            },
            "button": {
              "background": "#8ec760",
              "text": "#ffffff"
            }
          },
          "type": "opt-out",
          "content": {
            "message": "Este sitio usa cookies propias y de terceros para mejorar la experiencia de usuario y esas cosas.",
            "allow": "Ok, continua",
            "deny": "Nada de cookies",
            "link": "Saber m√°s",
            "href": "https://sergiocarracedo.es/cookies.html",
          },
          "onStatusChange": function(status, chosenBefore) {
            if (status == 'allow') {
               runCookiesAllowed()
            }
          },
          "onInitialise" : function(status) {
            if (status == 'allow') {
               runCookiesAllowed()
            }
          }
        })
      });
    </script>


</html>
